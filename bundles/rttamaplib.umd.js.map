{"version":3,"file":"rttamaplib.umd.js.map","sources":["ng://rttamaplib/lib/rttamaplib.service.ts","ng://rttamaplib/lib/models/truckdetails.ts","ng://rttamaplib/lib/rttamaplib.component.ts","ng://rttamaplib/lib/rttamaplib.module.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { Http, Response, RequestOptions, Headers } from '@angular/http';\nimport { Observable, Subscriber } from 'rxjs';\nimport 'rxjs/add/operator/map';\nimport 'rxjs/add/operator/toPromise';\nimport * as io from 'socket.io-client';\nimport { TruckDirectionDetails } from './models/truckdetails';\nimport { forEach } from '@angular/router/src/utils/collection';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RttamaplibService {\n\n  mapReady = false;\n  showNav = true;\n  host: string = null;\n  socket: any = null;\n  socketURL: string = null;\n\n  constructor(private http: Http) {\n    this.host = \"https://zld04090.vci.att.com:8443/RAPTOR/\";\n    this.socketURL = \"https://zld04090.vci.att.com:3007\";\n  }\n\n  checkUserHasPermission(userName): Promise<any> {\n    var usersListUrl = this.host + \"authuser\";\n    return this.http.post(usersListUrl, userName).toPromise().then((res: Response) => {\n      return res.json();\n    });\n  }\n\n  getMapPushPinData(attUID): Promise<any> {\n    var supervisorId = [];\n    supervisorId = attUID.split(',');\n    var usersListUrl = this.host + 'TechDetailFetch';\n    return this.http.post(usersListUrl, {\n      \"attuId\": \"\",\n      \"supervisorId\": supervisorId\n    }).toPromise().then((res: Response) => {\n      return res.json();\n    });\n  }\n\n  findTruckNearBy(lat, long, distance, supervisorId): Promise<any> {\n    var supervisorIds = [];\n    supervisorIds = supervisorId.split(',');\n    const findTruckURL = this.host + 'FindTruckNearBy';\n    return this.http.post(findTruckURL, {\n      'lat': lat,\n      'llong': long,\n      'radius': distance,\n      'supervisorId': supervisorIds\n    }).toPromise().then((res: Response) => {\n      return res.json();\n    });\n  }\n\n  getWebPhoneUserData(attUID): Promise<any> {\n    var ldapURL = this.socketURL + \"/gettechnicians/\" + attUID;\n    return this.http.get(ldapURL).toPromise().then((res: Response) => {\n      return res.json();\n    });\n  }\n\n  getWebPhoneUserInfo(attUID): Promise<any> {\n    var ldapURL = this.socketURL + \"/gettechnicianinfo/\" + attUID;\n    return this.http.get(ldapURL).toPromise().then((res: Response) => {\n      return res.json();\n    });\n  }\n\n  GetNextRouteData(fromAttitude, toAttitude): Promise<any> {\n    var routeUrl = \"https://dev.virtualearth.net/REST/V1/Routes/Driving?wp.0=\" + fromAttitude + \"&wp.1=\" + toAttitude + \"&routeAttributes=routePath&key=AnxpS-32kYvBzjQ5pbZcnDz17oKBa1Bq2HRwHANoNpHs3Z25NDvqbhcqJZyDoYMj\"\n    return this.http.get(routeUrl).toPromise().then((res: Response) => {\n      return res[\"_body\"];\n    });\n  }\n\n  GetRouteMapData(dirDetails: any[]): any[] {\n    let combinedUrls = [];\n    let routeUrl;\n    var newRouteUrl;\n    dirDetails.forEach((item) => {\n      routeUrl = \"https://dev.virtualearth.net/REST/V1/Routes/?wp.0=\" + item.sourceLat + \",\" + item.sourceLong + \"&wp.1=\" + item.destLat + \",\" + item.destLong + \"&key=AnxpS-32kYvBzjQ5pbZcnDz17oKBa1Bq2HRwHANoNpHs3Z25NDvqbhcqJZyDoYMj\"\n      newRouteUrl = this.http.get(routeUrl)\n      combinedUrls.push(newRouteUrl)\n    });\n    return combinedUrls;\n  }\n\n  getAddressByLatLong(latitude,longitude) {  \n    var bingHost = \"https://dev.virtualearth.net/REST/v1/Locations/LatLong?o=json&key=AnxpS-32kYvBzjQ5pbZcnDz17oKBa1Bq2HRwHANoNpHs3Z25NDvqbhcqJZyDoYMj\";\n  \n    var getBingUrl = bingHost.replace(\"LatLong\",latitude + \",\" + longitude);;\n    return this.http.get(getBingUrl);\n  }\n\n  sendEmail(fromEmail, toEmail, fromName, toName, subject, body): Promise<any> {\n    var smsURL = this.socketURL + \"/sendemail\";\n    var emailMessage = {\n      \"event\": {\n        \"recipientData\": [{\n          \"header\": { \"source\": \"Kepler\", \"scenarioName\": \"\", \"transactionId\": \"51111\" },\n          \"notificationOption\": [{ \"moc\": \"email\" }],\n          \"emailData\": {\n            \"subject\": \"\" + subject + \"\",\n            \"message\": \"\" + body + \"\",\n            \"address\": {\n              \"to\": [{ \"name\": \"\" + toName + \"\", \"address\": \"\" + toEmail + \"\" }],\n              \"cc\": [],\n              \"bcc\": [],\n              \"from\": { \"name\": \"AT&T Enterprise Notification\", \"address\": \"\" }, \"bounceTo\": { \"address\": \"\" },\n              \"replyTo\": { \"address\": \"\" }\n            }\n          }\n        }],\n        \"attribData\": [{ \"name\": \"subject\", \"value\":  subject },\n        { \"name\": \"message\", \"value\": \"This is first camunda process\" },\n        { \"name\": \"contractorName\", \"value\": \"Ajay Apat\" }]\n      }\n    }\n\n    var headers = new Headers({ 'Content-Type': 'application/json' });\n    var options = new RequestOptions({ headers: headers });\n    return this.http.post(smsURL, JSON.stringify(emailMessage), options).toPromise().then((res: Response) => {\n      return res.json();\n    });\n  }\n\n  sendSMS(toNumber, bodyMessage): Promise<any> {\n    var smsURL = this.socketURL + \"/sendsms\";\n    var smsMessage = {\n      \"event\": {\n        \"recipientData\": [{\n          \"header\": { \"source\": \"Kepler\", \"scenarioName\": \" FirstNetInitialRegistratiionUser\", \"transactionId\": \"0004\" },\n          \"notificationOption\": [{ \"moc\": \"sms\" }],\n          \"smsData\": {\n            \"details\": {\n              \"contactData\": {\n                \"requestId\": \"11116\", \"sysId\": \"CB\", \"clientId\": \"RTTA\",\n                // \"phoneNumber\": { \"areaCode\": \"\" + toNumber.toString().substr(0, 3) + \"\", \"number\": \"\" + toNumber.toString().substr(3, 10) + \"\" }, \"message\": \"\" + bodyMessage + \"\",\n                \"phoneNumber\": { \"areaCode\": \"\", \"number\": \"\" + toNumber + \"\" }, \"message\": \"\" + bodyMessage + \"\",\n                \"scenarioName\": \" FirstNetInitialRegistratiionUser\", \"internationalNumberIndicator\": \"True\", \"interactiveIndicator\": \"False\",\n                \"hostedIndicator\": \"False\", \"provider\": \"BSNL\", \"shortCode\": \"1111\", \"replyTo\": \"DMAAP\"\n              }\n            }\n          }\n        }],\n        \"attribData\": [{ \"name\": \"adminData1\", \"value\": 1234567 }, { \"name\": \"contractorName\", \"value\": \"contractor name\" }]\n      }\n    }\n\n    var headers = new Headers({ 'Content-Type': 'application/json' });\n    var options = new RequestOptions({ headers: headers });\n    return this.http.post(smsURL, JSON.stringify(smsMessage), options).toPromise().then((res: Response) => {\n      return res.json();\n    });\n  }\n\n  getTruckFeed(techIds: any, mgrId: any) {\n    const observable = new Observable(observer => {\n\n      this.socket = io.connect(this.socketURL,\n        {\n          secure: true,\n          reconnection: true,\n          reconnectionDelay: 1000,\n          reconnectionDelayMax: 5000,\n          reconnectionAttempts: 99999\n        });\n\n      this.socket.emit('join', { mgrId: mgrId, attuIds: techIds });\n\n      this.socket.on('message', (data) => {\n        observer.next(data);\n      });\n    });\n    return observable;\n  }\n  //Get Rule designed based on techtype.\n  getRules(dispatchType) {\n    var getRulesUrl = this.host + \"FetchRule\";\n    return this.http.post(getRulesUrl, {\n      \"dispatchType\": dispatchType\n    });\n  }\n\n  storeDataInSessionStorage(key, objectToStore)\n  {\n    // return  if you want to remove the complete storage use the clear() method, like localStorage.clear()\n    // Check if the sessionStorage object exists\n   if(sessionStorage)\n    {\n      sessionStorage.setItem(key, JSON.stringify(objectToStore));\n    }\n  }\n\n  storeDataInLocalStorage(key, objectToStore)\n  {\n      localStorage.setItem(key, JSON.stringify(objectToStore));\n  }\n\n  retrieveDataFromLocalStorage(key, objectToStore)\n  {\n      var result = localStorage.getItem(key);\n      if(result!=null)\n        result = JSON.parse(result);\n      return result;\n  }\n\n  retrieveDataFromSessionStorage(key)\n  {\n    if(sessionStorage)\n    {\n      var result = sessionStorage.getItem(key);\n      if(result!=null)\n        result = JSON.parse(result);\n      return result;\n    }\n    else\n    {\n      return null;\n    }\n  }\n\n}\n","export class TruckDetails {\n   public TruckId: string;\n   public Distance: string;  \n}\n\nexport class TruckDirectionDetails{\n    public techId: string;\n    public sourceLat: string;\n    public sourceLong: string;\n    public destLat: string;\n    public destLong: string;\n    public nextRouteLat: string;\n    public nextRouteLong: string;\n  }\n  \n  export class Ticket{\n    public ticketNumber: string;\n    public entryType: string;\n    public createDate: string;\n    public equipmentID: string;\n    public commonID: string;\n    public parentID: string;\n    public custAffecting: string;\n    public ticketSeverity: string;\n    public assignedTo: string;\n    public submittedBy: string;\n    public problemSubcategory: string;\n    public problemDetail: string;\n    public problemCategory: string;\n    public latitude: string;\n    public longitude: string;\n    public plannedRestoralTime: string;\n    public alternateSiteID: string;\n    public locationRanking: string;\n    public assignedDepartment: string;\n    public region: string;\n    public market: string;\n    public shiftLog: string;\n    public equipmentName: string;\n    public shortDescription: string;\n    public ticketStatus: string;\n    public locationID: string;\n    public opsDistrict: string;\n    public opsZone: string;\n    public parentName: string;\n    public action: string;\n    public workRequestId: string;\n  }","import { ViewContainerRef, Component, ElementRef, OnInit, ViewChild, Input, Output, EventEmitter } from '@angular/core';\r\n// import { Router } from '@angular/router';\r\nimport { RttamaplibService } from './rttamaplib.service';\r\nimport { NguiAutoCompleteModule } from '@ngui/auto-complete/dist';\r\n// import { Popup } from 'ng2-opd-popup';\r\nimport { TruckDetails, TruckDirectionDetails, Ticket } from './models/truckdetails';\r\nimport * as io from 'socket.io-client';\r\nimport { fail, throws } from 'assert';\r\n// import { Toast, ToastsManager } from 'ng2-toastr/ng2-toastr';\r\nimport { OnDestroy } from '@angular/core/src/metadata/lifecycle_hooks';\r\nimport { TryCatchStmt } from '@angular/compiler/src/output/output_ast';\r\nimport { AngularMultiSelectModule } from 'angular2-multiselect-dropdown/angular2-multiselect-dropdown';\r\nimport { setTimeout } from 'timers';\r\nimport { forkJoin } from 'rxjs';\r\nimport * as moment from 'moment';\r\nimport * as momenttimezone from 'moment-timezone';\r\nimport { ViewEncapsulation } from '@angular/compiler/src/core';\r\nimport { PARAMETERS } from '@angular/core/src/util/decorators';\r\nimport { shallowEqual } from '@angular/router/src/utils/collection';\r\n\r\ndeclare const Microsoft: any;\r\ndeclare const Bing;\r\ndeclare const GeoJson: any;\r\ndeclare var jQuery: any;\r\ndeclare var $: any;\r\n(window as any).global = window;\r\n// <div id=\"loading\">\r\n//     <img id=\"loading-image\" src=\"data:image/gif;base64,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\" alt=\"Loading...\" />\r\n//   </div>\r\n\r\n@Component({\r\n  selector: 'att-rttamaplib',\r\n  template: `  \r\n  <div style='position:relative;' id='singleviewrttamap'>\r\n  <div id='myMap' class='mapclass' #mapElement>\r\n  </div>\r\n  <div id=\"ticketmodal\" class=\"modal\">\r\n\t\t<div class=\"mymodal-dialog setMaxWidth\">\t\t\t\r\n      <div id=\"singleviewmodalcontent\" class=\"mymodal-content\" style='line-height:1.2em;'>\r\n      </div>\t\t\t\r\n    </div>\r\n  </div>\r\n  </div>\r\n  <div  id='modalviewrttamap'>\r\n    <div id=\"jobticketmodal\" class=\"modal\">\r\n      <div class=\"mymodal-dialog setMaxWidth\">\t\t\t\r\n        <div id=\"modalviewmodalcontent\" class=\"mymodal-content\" style='line-height:1.2em;'>\r\n        </div>\t\t\t\r\n      </div>\r\n    </div>\r\n  </div>\r\n  `,\r\n  styles: [`\r\n  .mapclass{\r\n    height: calc(100vh - 4em - 80px) !important;    \r\n    display:block;\r\n  }\r\n  \r\n  /* Extra small devices (phones, 600px and down) */\r\n  @media only screen and (max-width: 600px) {\r\n    .setMaxWidth{\r\n      max-width:99%;\r\n    }\r\n  } \r\n  \r\n  /* Small devices (portrait tablets and large phones, 600px and up) */\r\n  @media only screen and (min-width: 600px) {\r\n    .setMaxWidth{\r\n      max-width:99%;\r\n    }\r\n  } \r\n  \r\n  /* Medium devices (landscape tablets, 768px and up) */\r\n  @media only screen and (min-width: 768px) {\r\n    .setMaxWidth{\r\n      max-width:60%;\r\n    }\r\n  } \r\n  \r\n  /* Large devices (laptops/desktops, 992px and up) */\r\n  @media only screen and (min-width: 992px) {\r\n    .setMaxWidth{\r\n      max-width:35%;\r\n    }\r\n  } \r\n  \r\n  /* Extra large devices (large laptops and desktops, 1200px and up) */\r\n  @media only screen and (min-width: 1200px) {\r\n    .setMaxWidth{\r\n      max-width:40%;\r\n    }\r\n  }\r\n\r\n  .modal{\r\n    position:absolute;\r\n  }\r\n  \r\n  .row{\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n  }\r\n  \r\n  .modal-content{\r\n    box-shadow: 0 3px 9px rgba(0,0,0,.5);\r\n    position: relative;\r\n    display: flex;\r\n    flex-direction: column;\r\n    width: 100%;\r\n    pointer-events: auto;\r\n    background-color: #fff;\r\n    background-clip: padding-box;\r\n    border: 1px solid rgba(0,0,0,.2);\r\n    border-radius: 0.8rem;\r\n  }\r\n  \r\n  .modal-dialog{\r\n    position: relative;\r\n    width: auto;\r\n    pointer-events: none;\r\n  }\r\n  \r\n  .label{\r\n    font-weight:unset;\r\n  }\r\n\r\n  .infyMappopup{\r\n\t\tmargin:auto !important;\r\n    width:300px !important;\r\n    background-color: white;\r\n    border: 1px solid lightgray; \r\n  },\r\n  .popModalContainer{\r\n    padding:15px;\r\n  }\r\n  .popModalHeader{\r\n    position: relative;\r\n    width:100%;\r\n  }\r\n  .popModalHeader a{\r\n    display: inline-block;\r\n    padding:5px 10px;\r\n    background-color: #ffc107;\r\n    border-color: #ffc107;\r\n    position: absolute;\r\n    right:10px;\r\n    top:5px;\r\n  }\r\n  .popModalHeader .fa{\r\n    position: absolute;\r\n    top:-10px;\r\n    right:-10px;\r\n  \r\n  }\r\n  .popModalBody label{\r\n    font-weight: bold;\r\n    line-height: normal;\r\n  }\r\n  .popModalBody span{\r\n    display: inline-block;\r\n    line-height: normal;\r\n    word-break:Â break-word;\r\n  }\r\n  .meterCal strong{\r\n    font-weight: bolder;\r\n    font-size: 23px;\r\n  }\r\n  .meterCal span{\r\n    display: block;\r\n  }\r\n  .popModalFooter .col{\r\n    text-align: center;\r\n  }\r\n  .popModalFooter .fa{\r\n    padding:0 5px;\r\n  }\r\n.modal-body {max-height:450px; overflow-y:auto}\r\n.tktForm .form-group {margin-bottom:5px}\r\n.tktForm .form-group div label {font-weight:500}\r\n.topBorder {border-top:#dbdbdb 1px solid;}\r\n\r\n.text-success {color:#5cb85c}\r\n.text-danger {color:#d9534f}\r\n#moreFormContentBtn, #moreFormContentBtn:hover  {    \r\n   \r\n    background:transparent;\r\n    border:0\r\n}\r\n#moreFormContentBtn:focus  {    \r\n    outline:0\r\n}\r\n\r\n.newrow{\r\n\tdisplay: flex;\r\n    flex-wrap: wrap;\r\n    margin-right: -15px;\r\n    margin-left: -15px;\r\n}\r\n\r\n.mymodal-content{\t\r\n\tbox-shadow: 0 3px 9px rgba(0,0,0,.5);\r\n    position: relative;\r\n    display: flex;\r\n    flex-direction: column;\r\n    width: 100%;\r\n    pointer-events: auto;\r\n    background-color: #fff;\r\n    background-clip: padding-box;\r\n    border: 1px solid rgba(0,0,0,.2);\r\n    border-radius: 0.8rem;\r\n}\r\n\r\n.mymodal-dialog{\r\n\tposition: relative;\r\n\twidth: auto;\r\n\tpointer-events: none;\r\n}\r\n  `]\r\n})\r\nexport class RttamaplibComponent implements OnInit {\r\n\r\n  connection;\r\n  map: any;\r\n  contextMenu: any;\r\n  technicianPhone: string;\r\n  technicianEmail: string;\r\n  technicianName: string;\r\n  travalDuration;\r\n  truckItems = [];\r\n  testClass = \"position:relative;\";\r\n\r\n  directionsManager;\r\n  trafficManager: any;\r\n\r\n  truckList = [];\r\n  truckWatchList: TruckDetails[];\r\n  busy: any;\r\n  mapview = 'road';\r\n  loading = false;\r\n  @ViewChild('mapElement') someInput: ElementRef;\r\n  myMap = document.querySelector('#myMap');\r\n  ready = false;\r\n  animatedLayer;\r\n  // @ViewChild('smspopup') smspopup: Popup;\r\n  // @ViewChild('emailpopup') emailpopup: Popup;\r\n  @ViewChild('info') infoTemplate: ElementRef;\r\n  socket: any = null;\r\n  socketURL: string;\r\n  results = [\r\n  ];\r\n  public userRole: any;\r\n  lastZoomLevel = 10;\r\n  lastLocation: any;\r\n  reportingTechnicianDetails = [];\r\n  reportingTechnicians = [];\r\n  isTrafficEnabled = 0;\r\n  loggedUserId = '';\r\n  managerUserId = '';\r\n  cookieATTUID = '';\r\n  feet: number = 0.000189394;\r\n  IsAreaManager = false;\r\n  IsVP = false;\r\n  fieldManagers = [];\r\n  // Weather tile url from Iowa Environmental Mesonet (IEM): http://mesonet.agron.iastate.edu/ogc/\r\n  urlTemplate = 'http://mesonet.agron.iastate.edu/cache/tile.py/1.0.0/nexrad-n0q-{timestamp}/{zoom}/{x}/{y}.png';\r\n\r\n  // The time stamps values for the IEM service for the last 50 minutes broken up into 5 minute increments.\r\n  timestamps = ['900913-m50m', '900913-m45m', '900913-m40m', '900913-m35m', '900913-m30m', '900913-m25m', '900913-m20m', '900913-m15m', '900913-m10m', '900913-m05m', '900913'];\r\n\r\n  techType: any;\r\n\r\n  thresholdValue = 0;\r\n\r\n  animationTruckList = [];\r\n\r\n  dropdownSettings = {};\r\n  selectedFieldMgr = [];\r\n  managerIds = '';\r\n\r\n  radiousValue = '';\r\n\r\n  foundTruck = false;\r\n\r\n  loggedInUserTimeZone = 'CST';\r\n  clickedLat; any;\r\n  clickedLong: any;\r\n  dataLayer: any;\r\n  pathLayer: any;\r\n  infoBoxLayer: any;\r\n  infobox: any;\r\n  isMapLoaded = true;\r\n  WorkFlowAdmin = false;\r\n  SystemAdmin = false;\r\n  RuleAdmin = false;\r\n  RegularUser = false;\r\n  Reporting = false;\r\n  NotificationAdmin = false;\r\n  @Input() ticketList: any = [];\r\n  @Input() loggedInUser: string;\r\n  @Input() singleView: string = 'No';\r\n  @Output() ticketClick: EventEmitter<any> = new EventEmitter<any>();\r\n  @Input() selectedticketNo: any = '';\r\n  ticketData: Ticket[] = [];\r\n  selectedPushpin: any;\r\n  selectedPushpinData: any;\r\n  currentLatitude: any;\r\n  currentLongitude: any;\r\n  directionUpdated: any = \"0\";\r\n  \r\n  constructor(public mapService: RttamaplibService,\r\n    //private router: Router, \r\n    //public toastr: ToastsManager, \r\n    vRef: ViewContainerRef\r\n  ) {\r\n    //this.toastr.setRootViewContainerRef(vRef);\r\n    this.loading = true;\r\n    this.cookieATTUID = \"kr5226\";//this.utils.getCookieUserId();\r\n    this.reportingTechnicians = [];\r\n    this.reportingTechnicians.push(this.cookieATTUID);\r\n    this.travalDuration = 5000;\r\n    // // to load already addred watch list\r\n    if (sessionStorage.getItem('TruckWatchList') != null) {\r\n      this.truckList = JSON.parse(sessionStorage.getItem('TruckWatchList'));\r\n    }\r\n  }\r\n\r\n  ngOnInit() {\r\n    //$('#loading').hide();\r\n    this.loggedUserId = this.managerUserId = \"kr5226\";//this.utils.getCookieUserId();\r\n    this.loading = false;\r\n    //this.checkUserLevel(false);\r\n    if (document.readyState != 'complete') {\r\n      document.onreadystatechange = () => {\r\n        if (document.readyState === 'complete') {\r\n          this.mapview = 'road';\r\n          if (this.singleView == 'Yes') {\r\n            $(\"#modalviewmodalcontent\").html(this.getTicketModalHTML(this.ticketList[0].FieldTupleList.FieldTuple, '', '', ''));\r\n          }\r\n          this.loadMapView('road');\r\n\r\n        } else {\r\n          this.ngOnInit();\r\n        }\r\n      }\r\n    } else {\r\n      if (document.readyState === 'complete') {\r\n        this.mapview = 'road';\r\n        if (this.singleView == 'Yes') {\r\n          $(\"#modalviewmodalcontent\").html(this.getTicketModalHTML(this.ticketList[0].FieldTupleList.FieldTuple, '', '', ''));\r\n        }\r\n        this.loadMapView('road');\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  checkUserLevel(IsShowTruck) {\r\n    this.fieldManagers = [];\r\n    // Assign logged in user\r\n    var mgr = { id: this.managerUserId, itemName: this.managerUserId };\r\n    this.fieldManagers.push(mgr);\r\n\r\n    // Comment below line when you give for production build 9008\r\n    this.IsVP = true;\r\n\r\n    // Check is logged in user is a field manager area manager/vp\r\n    this.mapService.getWebPhoneUserInfo(this.managerUserId).then((data: any) => {\r\n      if (!jQuery.isEmptyObject(data)) {\r\n        let managers = 'f';\r\n        let amanagers = 'e';\r\n        let vp = 'a,b,c,d';\r\n\r\n        if (data.level.indexOf(managers) > -1) {\r\n          // this.IsVP = IsShowTruck;\r\n          this.IsAreaManager = false;\r\n          this.managerIds = this.fieldManagers.map(function (item) {\r\n            return item['id'];\r\n          }).toString();\r\n          // this.getTechDetailsForManagers();\r\n          // this.LoadTrucks(this.map, null, null, null, false);\r\n          setTimeout(() => { //$('#loading').hide() \r\n          }, 3000);\r\n        } else if (data.level.indexOf(amanagers) > -1) {\r\n          this.fieldManagers = [];\r\n          var areaMgr = {\r\n            id: this.managerUserId,\r\n            itemName: data.name + ' (' + this.managerUserId + ')'\r\n          };\r\n          this.fieldManagers.unshift(areaMgr);\r\n          this.getListofFieldManagers();\r\n          //$('#loading').hide();\r\n        } else if (data.level.indexOf(vp) > -1) {\r\n          this.IsVP = true;\r\n          this.IsAreaManager = false;\r\n          //$('#loading').hide();\r\n        } else {\r\n          //this.toastr.warning('Not valid Field/Area Manager!', 'Manager', { showCloseButton: true })\r\n          //$('#loading').hide();\r\n        }\r\n      } else {\r\n        //this.toastr.warning('Please enter valid Field/Area Manager attuid!', 'Manager', { showCloseButton: true })\r\n        //$('#loading').hide();\r\n      }\r\n    }).catch(error => {\r\n      console.log(error);\r\n      //this.toastr.error('Error while connecting web phone!', 'Error')\r\n      //$('#loading').hide();\r\n    });\r\n  }\r\n\r\n  getListofFieldManagers() {\r\n    this.mapService.getWebPhoneUserData(this.managerUserId).then((data: any) => {\r\n      if (data.TechnicianDetails.length > 0) {\r\n        for (var tech in data.TechnicianDetails) {\r\n          var mgr = {\r\n            id: data.TechnicianDetails[tech].attuid,\r\n            itemName: data.TechnicianDetails[tech].name + ' (' + data.TechnicianDetails[tech].attuid + ')'\r\n          };\r\n          this.fieldManagers.push(mgr);\r\n        }\r\n\r\n        this.IsVP = false;\r\n        this.IsAreaManager = true;\r\n      } else {\r\n        this.IsVP = true;\r\n        this.IsAreaManager = false;\r\n        //this.toastr.warning('Do not have any direct reports!', 'Manager');\r\n      }\r\n    }).catch(error => {\r\n      console.log(error);\r\n      //this.toastr.error('Error while connecting web phone!', 'Error');\r\n      //$('#loading').hide();\r\n    });\r\n  }\r\n\r\n  getTechDetailsForManagers() {\r\n    if (this.managerIds != null) {\r\n      this.mapService.getWebPhoneUserData(this.managerIds).then((data: any) => {\r\n        if (data.TechnicianDetails.length > 0) {\r\n          for (var tech in data.TechnicianDetails) {\r\n            this.reportingTechnicians.push(data.TechnicianDetails[tech].attuid);\r\n\r\n            this.reportingTechnicianDetails.push({\r\n              attuid: data.TechnicianDetails[tech].attuid,\r\n              name: data.TechnicianDetails[tech].name,\r\n              email: data.TechnicianDetails[tech].email,\r\n              phone: data.TechnicianDetails[tech].phone\r\n            });\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  loadMapView(type: String) {\r\n    var that = this;\r\n    this.truckItems = [];\r\n    var location = new Microsoft.Maps.Location(40.0583, -74.4057);\r\n\r\n    if (this.lastLocation) {\r\n      location = new Microsoft.Maps.Location(this.lastLocation.latitude, this.lastLocation.longitude);\r\n    }\r\n    this.map = new Microsoft.Maps.Map(this.singleView == 'Yes' ? document.getElementById('modalMap') : document.getElementById('myMap'), {\r\n      credentials: 'AnxpS-32kYvBzjQ5pbZcnDz17oKBa1Bq2HRwHANoNpHs3Z25NDvqbhcqJZyDoYMj',\r\n      center: location,\r\n      mapTypeId: type == 'satellite' ? Microsoft.Maps.MapTypeId.aerial : Microsoft.Maps.MapTypeId.road,\r\n      zoom: 12,\r\n      liteMode: true,\r\n      navigationBarMode: Microsoft.Maps.NavigationBarMode.minified,\r\n      navigationBarOrientation: this.singleView == 'Yes' ? Microsoft.Maps.NavigationBarOrientation.horizontal : Microsoft.Maps.NavigationBarOrientation.vertical,\r\n      enableClickableLogo: false,\r\n      showLogo: false,\r\n      showTermsLink: false,\r\n      showMapTypeSelector: this.singleView == 'Yes' ? false : true,\r\n      showTrafficButton: this.singleView == 'Yes' ? false : true,\r\n      enableSearchLogo: false,\r\n      showCopyright: false,\r\n      showZoomButtons: true,\r\n      showLocateMeButton: this.singleView == 'Yes' ? false : true\r\n    });\r\n\r\n    //Load the Animation Module\r\n    //Microsoft.Maps.loadModule(\"AnimationModule\");\r\n    Microsoft.Maps.loadModule('AnimationModule', function () {\r\n    });\r\n    Microsoft.Maps.Events.addHandler(this.map, 'viewchangeend', () => {\r\n      window.setTimeout(that.setZoomPosition, 10000);\r\n    });\r\n\r\n\r\n    //Store some metadata with the pushpin\r\n    this.infobox = new Microsoft.Maps.Infobox(this.map.getCenter(), {\r\n      visible: false\r\n    });\r\n    this.infobox.setMap(this.map);\r\n\r\n    // Create a layer for rendering the path.\r\n    this.pathLayer = new Microsoft.Maps.Layer();\r\n    this.map.layers.insert(this.pathLayer);\r\n\r\n    // Load the Spatial Math module.\r\n    Microsoft.Maps.loadModule('Microsoft.Maps.SpatialMath', function () { });\r\n    Microsoft.Maps.loadModule('Microsoft.Maps.Directions', function () { });\r\n\r\n    // Create a layer to load pushpins to.\r\n    this.dataLayer = new Microsoft.Maps.EntityCollection();\r\n\r\n    if (this.singleView != 'Yes') {\r\n      // Add a right click event to the map\r\n      Microsoft.Maps.Events.addHandler(this.map, 'rightclick', function (e) {\r\n        const x1 = e.location;\r\n        that.clickedLat = x1.latitude;\r\n        that.clickedLong = x1.longitude;\r\n        that.radiousValue = '';\r\n        jQuery('#myRadiusModal').modal('show');\r\n      });\r\n    }\r\n\r\n    //load all tickets.\r\n    that.loadCurrentLocation(that, this.map, this.directionsManager);\r\n    that.addTicketData(that, this.map, this.directionsManager, \"1\");\r\n  }\r\n\r\n  setZoomPosition() {\r\n    $('.NavBar_Container.Light').attr('style', 'bottom:30px;top:unset !important;');\r\n  }\r\n\r\n  LoadTrucks(maps, lt, lg, rd, isTruckSearch) {\r\n    const that = this;\r\n    this.truckItems = [];\r\n\r\n    if (!isTruckSearch) {\r\n\r\n      this.mapService.getMapPushPinData(this.managerIds).then((data: any) => {\r\n        if (!jQuery.isEmptyObject(data) && data.techData.length > 0) {\r\n          var techData = data.techData;\r\n          var dirDetails = [];\r\n          techData.forEach((item) => {\r\n            if (item.long == undefined) {\r\n              item.long = item.longg;\r\n            }\r\n            if (item.techID != undefined) {\r\n              var dirDetail: TruckDirectionDetails = new TruckDirectionDetails();\r\n              dirDetail.techId = item.techID;\r\n              dirDetail.sourceLat = item.lat;\r\n              dirDetail.sourceLong = item.long;\r\n              dirDetail.destLat = item.wrLat;\r\n              dirDetail.destLong = item.wrLong;\r\n              dirDetails.push(dirDetail);\r\n              this.pushNewTruck(maps, item);\r\n            }\r\n          });\r\n\r\n          var routeMapUrls = [];\r\n          routeMapUrls = this.mapService.GetRouteMapData(dirDetails);\r\n\r\n          forkJoin(routeMapUrls).subscribe(results => {\r\n\r\n            for (let j = 0; j <= results.length - 1; j++) {\r\n              let routeData = results[j] as any;\r\n              let routedataJson = routeData.json();\r\n              if (routedataJson.resourceSets[0].resources[0].routeLegs[0].itineraryItems != null\r\n                && routedataJson.resourceSets[0].resources[0].routeLegs[0].itineraryItems.length > 0) {\r\n                var nextSourceLat = routedataJson.resourceSets[0].resources[0].routeLegs[0].itineraryItems[1].maneuverPoint.coordinates[0]\r\n                var nextSourceLong = routedataJson.resourceSets[0].resources[0].routeLegs[0].itineraryItems[1].maneuverPoint.coordinates[1]\r\n                dirDetails[j].nextRouteLat = nextSourceLat;\r\n                dirDetails[j].nextRouteLong = nextSourceLong;\r\n              }\r\n            }\r\n\r\n            var listOfPins = maps.entities;\r\n\r\n            for (let i = 0; i < listOfPins.getLength(); i++) {\r\n              var techId = listOfPins.get(i).metadata.ATTUID;\r\n              var truckColor = listOfPins.get(i).metadata.truckCol.toLowerCase();\r\n              var curPushPin = listOfPins.get(i);\r\n              var currDirDetail = [];\r\n\r\n              currDirDetail = dirDetails.filter(element => {\r\n                if (element.techId === techId) {\r\n                  return element;\r\n                }\r\n              });\r\n\r\n              var nextLocation;\r\n\r\n              if (currDirDetail.length > 0) {\r\n                nextLocation = new Microsoft.Maps.Location(currDirDetail[0].nextRouteLat, currDirDetail[0].nextRouteLong);\r\n              }\r\n\r\n              if (nextLocation != null && nextLocation != undefined) {\r\n                var pinLocation = listOfPins.get(i).getLocation();\r\n                var nextCoord = that.CalculateNextCoord(pinLocation, nextLocation);\r\n                var bearing = that.calculateBearing(pinLocation, nextCoord);\r\n                var truckUrl = this.getTruckUrl(truckColor);\r\n                this.createRotatedImagePushpin(curPushPin, truckUrl, bearing, function () { });\r\n              }\r\n            }\r\n\r\n            //$('#loading').hide();\r\n          },\r\n            (err) => {\r\n              //$('#loading').hide();\r\n            }\r\n          );\r\n\r\n          this.connection = this.mapService.getTruckFeed(this.reportingTechnicians, this.managerIds).subscribe(\r\n            (data: any) => {\r\n              if (this.reportingTechnicians.some(x => x.toLowerCase() == data.techID.toLowerCase())) {\r\n                console.log(data);\r\n                this.pushNewTruck(maps, data);\r\n              }\r\n            },\r\n            (err) => {\r\n              console.log('Error while fetching trucks from Kafka Consumer. Errors-> ' + err.Error);\r\n            }\r\n          );\r\n\r\n        } else {\r\n          //this.toastr.error('No truck found!', 'Manager');\r\n          //$('#loading').hide();\r\n        }\r\n      }).catch(error => {\r\n        console.log(error);\r\n        //this.toastr.error('Error while fetching data from API!', 'Error');\r\n        //$('#loading').hide();\r\n      });\r\n    } else {\r\n\r\n      const mtrs = Math.round(that.getMeters(rd));\r\n      this.mapService.findTruckNearBy(lt, lg, mtrs, this.managerIds).then((data: any) => {\r\n        if (!jQuery.isEmptyObject(data) && data.techData.length > 0) {\r\n\r\n          const techData = data.techData;\r\n          let dirDetails = [];\r\n          techData.forEach((item) => {\r\n            if (item.long == undefined) {\r\n              item.long = item.longg;\r\n            }\r\n            if ((item.techID != undefined) && (dirDetails.some(x => x.techId == item.techID) == false)) {\r\n              var dirDetail: TruckDirectionDetails = new TruckDirectionDetails();\r\n              dirDetail.techId = item.techID;\r\n              dirDetail.sourceLat = item.lat;\r\n              dirDetail.sourceLong = item.long;\r\n              dirDetail.destLat = item.wrLat;\r\n              dirDetail.destLong = item.wrLong;\r\n              dirDetails.push(dirDetail);\r\n              this.pushNewTruck(maps, item);\r\n              that.foundTruck = true;\r\n            }\r\n          });\r\n\r\n          var routeMapUrls = [];\r\n          routeMapUrls = this.mapService.GetRouteMapData(dirDetails);\r\n\r\n          forkJoin(routeMapUrls).subscribe(results => {\r\n\r\n            for (let j = 0; j <= results.length - 1; j++) {\r\n              let routeData = results[j] as any;\r\n              let routedataJson = routeData.json();\r\n              if (routedataJson.resourceSets[0].resources[0].routeLegs[0].itineraryItems != null\r\n                && routedataJson.resourceSets[0].resources[0].routeLegs[0].itineraryItems.length > 0) {\r\n                var nextSourceLat = routedataJson.resourceSets[0].resources[0].routeLegs[0].itineraryItems[1].maneuverPoint.coordinates[0]\r\n                var nextSourceLong = routedataJson.resourceSets[0].resources[0].routeLegs[0].itineraryItems[1].maneuverPoint.coordinates[1]\r\n                dirDetails[j].nextRouteLat = nextSourceLat;\r\n                dirDetails[j].nextRouteLong = nextSourceLong;\r\n              }\r\n            }\r\n\r\n            var listOfPins = that.map.entities;\r\n\r\n            for (let i = 0; i < listOfPins.getLength(); i++) {\r\n              const pushpin = listOfPins.get(i);\r\n              if (pushpin instanceof Microsoft.Maps.Pushpin) {\r\n\r\n                const techId = pushpin.metadata.ATTUID;\r\n                const truckColor = pushpin.metadata.truckCol.toLowerCase();\r\n                var currDirDetail = [];\r\n\r\n                currDirDetail = dirDetails.filter(element => {\r\n                  if (element.techId === techId) {\r\n                    return element;\r\n                  }\r\n                });\r\n\r\n                var nextLocation;\r\n\r\n                if (currDirDetail.length > 0) {\r\n                  nextLocation = new Microsoft.Maps.Location(currDirDetail[0].nextRouteLat, currDirDetail[0].nextRouteLong);\r\n                }\r\n\r\n                if (nextLocation != null && nextLocation != undefined) {\r\n                  var pinLocation = listOfPins.get(i).getLocation();\r\n                  var nextCoord = that.CalculateNextCoord(pinLocation, nextLocation);\r\n                  var bearing = that.calculateBearing(pinLocation, nextCoord);\r\n                  var truckUrl = this.getTruckUrl(truckColor);\r\n                  this.createRotatedImagePushpin(pushpin, truckUrl, bearing, function () { });\r\n                }\r\n              }\r\n            }\r\n\r\n            // Load the spatial math module\r\n            Microsoft.Maps.loadModule('Microsoft.Maps.SpatialMath', function () {\r\n              // Request the user's location\r\n\r\n              const loc = new Microsoft.Maps.Location(that.clickedLat, that.clickedLong);\r\n              // Create an accuracy circle\r\n              const path = Microsoft.Maps.SpatialMath.getRegularPolygon(loc,\r\n                rd,\r\n                36,\r\n                Microsoft.Maps.SpatialMath.DistanceUnits.Miles);\r\n\r\n              const poly = new Microsoft.Maps.Polygon(path);\r\n              that.map.entities.push(poly);\r\n              // Add a pushpin at the user's location.\r\n              const pin = new Microsoft.Maps.Pushpin(loc,\r\n                {\r\n                  icon: 'https://bingmapsisdk.blob.core.windows.net/isdksamples/defaultPushpin.png',\r\n                  anchor: new Microsoft.Maps.Point(12, 39),\r\n                  title: rd + ' mile(s) of radius',\r\n                });\r\n\r\n              var metadata = {\r\n                Latitude: lt,\r\n                Longitude: lg,\r\n                radius: rd\r\n              };\r\n\r\n              Microsoft.Maps.Events.addHandler(pin, 'click', (e) => {\r\n                that.radiousValue = rd;\r\n                that.clickedLat = lt;\r\n                that.clickedLong = lg;\r\n                jQuery('#myRadiusModal').modal('show');\r\n              });\r\n\r\n              pin.metadata = metadata;\r\n              that.map.entities.push(pin);\r\n              that.dataLayer.push(pin);\r\n\r\n              // Center the map on the user's location.\r\n              that.map.setView({ center: loc, zoom: 8 });\r\n            });\r\n\r\n            //$('#loading').hide();\r\n          },\r\n            (err) => {\r\n              console.log(err);\r\n              //$('#loading').hide();\r\n            }\r\n          );\r\n\r\n          let feedManager = [];\r\n\r\n          this.connection = this.mapService.getTruckFeed(this.reportingTechnicians, this.managerIds).subscribe(\r\n            (data: any) => {\r\n              if (dirDetails.some(x => x.techId.toLocaleLowerCase() == data.techID.toLocaleLowerCase())) {\r\n                console.log(data);\r\n                this.pushNewTruck(maps, data);\r\n              }\r\n            },\r\n            (err) => {\r\n              console.log('Error while fetching trucks from Kafka Consumer. Errors-> ' + err.Error);\r\n            }\r\n          );\r\n\r\n        } else {\r\n          //this.toastr.error('No truck found!', 'Manager');\r\n          //$('#loading').hide();\r\n        }\r\n      }).catch(error => {\r\n        console.log(error);\r\n        //this.toastr.error('Error while fetching data from API!', 'Error');\r\n        //$('#loading').hide();\r\n      });\r\n    }\r\n\r\n  }\r\n\r\n  getTruckUrl(color) {\r\n    let truckUrl = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAdCAYAAABWk2cPAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAHkmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAxNy0xMi0xNFQxOTowODowMy0wODowMCIgeG1wOk1vZGlmeURhdGU9IjIwMTctMTItMTlUMTU6NDk6MDEtMDg6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMTctMTItMTlUMTU6NDk6MDEtMDg6MDAiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiBwaG90b3Nob3A6SUNDUHJvZmlsZT0ic1JHQiBJRUM2MTk2Ni0yLjEiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6YWRmM2ViMWQtNGJlZC1jNjQ0LTgzYmUtYjQ5YjZlNDlmYmRmIiB4bXBNTTpEb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6ZGExNTBlYTEtMjJhYy03OTQ5LThiNmEtZWU1MTc4ZTBmMWFkIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6ODhkMzU2YTctNzE4MS1lNTRhLTk5ZmUtNDgwZTM1YWM2NmY2Ij4gPHBob3Rvc2hvcDpEb2N1bWVudEFuY2VzdG9ycz4gPHJkZjpCYWc+IDxyZGY6bGk+YWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOmYwZWQxZWM3LTM1OTAtZGE0Yi05MWIwLTYwOTQ2ZjFhNWQ5YzwvcmRmOmxpPiA8cmRmOmxpPnhtcC5kaWQ6ODhkMzU2YTctNzE4MS1lNTRhLTk5ZmUtNDgwZTM1YWM2NmY2PC9yZGY6bGk+IDwvcmRmOkJhZz4gPC9waG90b3Nob3A6RG9jdW1lbnRBbmNlc3RvcnM+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6ODhkMzU2YTctNzE4MS1lNTRhLTk5ZmUtNDgwZTM1YWM2NmY2IiBzdEV2dDp3aGVuPSIyMDE3LTEyLTE0VDE5OjA4OjAzLTA4OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo1ZDQ2MDc1Zi04MmRmLWY3NDAtYmU3ZS1mN2I0MzlmYjcyMzEiIHN0RXZ0OndoZW49IjIwMTctMTItMTVUMTk6MjM6MzEtMDg6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOmFkZjNlYjFkLTRiZWQtYzY0NC04M2JlLWI0OWI2ZTQ5ZmJkZiIgc3RFdnQ6d2hlbj0iMjAxNy0xMi0xOVQxNTo0OTowMS0wODowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4db7vjAAACe0lEQVRIx92WTWtTQRSGnzNzb3LTtKG1WlHwq4uCbYX+A125ELcuuihCRXCp2H3BhSv/gUvBglJw4ULBigpSaUFciFLFjSAtsX61SdM0vXNc9NokRZOYARXnMqu5zDPnnPe8M4Gq8qdHwF8Y/x706rOJnpTItadf7o++Ly+VrZhkRZL5YzjExOn1F5mpsUPnbkyMTT5qGzpXmRlZLubHP7KE7Upn2K6/1DFVwWShmFsdf/h2ZnyCSWk/vfe6e74NvSazJ0fsKvVrdfoTzKawXioyN/+85FfTJ7un3KccwdkiFBsdXolTIHmDzHb51bTncA4XOGIRNFSkQXdZo6g1ZLoj6wWNBmQ07NVp8inshiANgtXVMmFXyIGh/ae8oA+C2/nAWAp3hOBD9Mu/NQa6HdnjZYbP9J8GZtqGHhzc21FIrRHs2yAoxw1PL1lFg00G0kcuApfahi6/LNzq7Ovl5PmjlItraCJZQRCt5lpFyURp5m8uMP15qnT5xJX201uubKSzbqs7JHY1YSnUQBFFjQEMX9dWPG1QQlUUR4yqrfqB1repKDhinChI6AfVRK6SfPV28HOvsBg/qBNFhGSbxlegk6QMzveWUWoMQZrvJmyLrW2oQZAYzG/c895QEWkpwC0xmeTCc57pRVtlYtQgCtYXKiK0/oRyiFHEeAopdq7G5LVpNavTJ1LVmppKM+HiWtN4Y2haLIomKdYmQkr62heqAsYK1ghhFO4AS13aAwtiDWx6Qou2ZDKlHItvVqlU1lHVqiFqnSMQhSGuZNCO5lJqCB3cdWxl4d2rztnrixhrcAl0ZzpUhVgdUdTJcP9IwQt698Ljvv/mhf8dtGHlh4v5R1IAAAAASUVORK5CYII=';\r\n\r\n    if (color.toLowerCase() == 'green') {\r\n      truckUrl = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAdCAYAAABWk2cPAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAHkmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAxNy0xMi0xNFQxOTowODowMy0wODowMCIgeG1wOk1vZGlmeURhdGU9IjIwMTctMTItMTlUMTU6NDk6MDEtMDg6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMTctMTItMTlUMTU6NDk6MDEtMDg6MDAiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiBwaG90b3Nob3A6SUNDUHJvZmlsZT0ic1JHQiBJRUM2MTk2Ni0yLjEiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6YWRmM2ViMWQtNGJlZC1jNjQ0LTgzYmUtYjQ5YjZlNDlmYmRmIiB4bXBNTTpEb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6ZGExNTBlYTEtMjJhYy03OTQ5LThiNmEtZWU1MTc4ZTBmMWFkIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6ODhkMzU2YTctNzE4MS1lNTRhLTk5ZmUtNDgwZTM1YWM2NmY2Ij4gPHBob3Rvc2hvcDpEb2N1bWVudEFuY2VzdG9ycz4gPHJkZjpCYWc+IDxyZGY6bGk+YWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOmYwZWQxZWM3LTM1OTAtZGE0Yi05MWIwLTYwOTQ2ZjFhNWQ5YzwvcmRmOmxpPiA8cmRmOmxpPnhtcC5kaWQ6ODhkMzU2YTctNzE4MS1lNTRhLTk5ZmUtNDgwZTM1YWM2NmY2PC9yZGY6bGk+IDwvcmRmOkJhZz4gPC9waG90b3Nob3A6RG9jdW1lbnRBbmNlc3RvcnM+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6ODhkMzU2YTctNzE4MS1lNTRhLTk5ZmUtNDgwZTM1YWM2NmY2IiBzdEV2dDp3aGVuPSIyMDE3LTEyLTE0VDE5OjA4OjAzLTA4OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo1ZDQ2MDc1Zi04MmRmLWY3NDAtYmU3ZS1mN2I0MzlmYjcyMzEiIHN0RXZ0OndoZW49IjIwMTctMTItMTVUMTk6MjM6MzEtMDg6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOmFkZjNlYjFkLTRiZWQtYzY0NC04M2JlLWI0OWI2ZTQ5ZmJkZiIgc3RFdnQ6d2hlbj0iMjAxNy0xMi0xOVQxNTo0OTowMS0wODowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4db7vjAAACe0lEQVRIx92WTWtTQRSGnzNzb3LTtKG1WlHwq4uCbYX+A125ELcuuihCRXCp2H3BhSv/gUvBglJw4ULBigpSaUFciFLFjSAtsX61SdM0vXNc9NokRZOYARXnMqu5zDPnnPe8M4Gq8qdHwF8Y/x706rOJnpTItadf7o++Ly+VrZhkRZL5YzjExOn1F5mpsUPnbkyMTT5qGzpXmRlZLubHP7KE7Upn2K6/1DFVwWShmFsdf/h2ZnyCSWk/vfe6e74NvSazJ0fsKvVrdfoTzKawXioyN/+85FfTJ7un3KccwdkiFBsdXolTIHmDzHb51bTncA4XOGIRNFSkQXdZo6g1ZLoj6wWNBmQ07NVp8inshiANgtXVMmFXyIGh/ae8oA+C2/nAWAp3hOBD9Mu/NQa6HdnjZYbP9J8GZtqGHhzc21FIrRHs2yAoxw1PL1lFg00G0kcuApfahi6/LNzq7Ovl5PmjlItraCJZQRCt5lpFyURp5m8uMP15qnT5xJX201uubKSzbqs7JHY1YSnUQBFFjQEMX9dWPG1QQlUUR4yqrfqB1repKDhinChI6AfVRK6SfPV28HOvsBg/qBNFhGSbxlegk6QMzveWUWoMQZrvJmyLrW2oQZAYzG/c895QEWkpwC0xmeTCc57pRVtlYtQgCtYXKiK0/oRyiFHEeAopdq7G5LVpNavTJ1LVmppKM+HiWtN4Y2haLIomKdYmQkr62heqAsYK1ghhFO4AS13aAwtiDWx6Qou2ZDKlHItvVqlU1lHVqiFqnSMQhSGuZNCO5lJqCB3cdWxl4d2rztnrixhrcAl0ZzpUhVgdUdTJcP9IwQt698Ljvv/mhf8dtGHlh4v5R1IAAAAASUVORK5CYII=';\r\n    } else if (color.toLowerCase() == 'red') {\r\n      truckUrl = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAdCAYAAABWk2cPAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAH3mlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAxNy0xMi0xNFQxOTowODowMy0wODowMCIgeG1wOk1vZGlmeURhdGU9IjIwMTctMTItMTlUMTU6NTI6MjEtMDg6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMTctMTItMTlUMTU6NTI6MjEtMDg6MDAiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiBwaG90b3Nob3A6SUNDUHJvZmlsZT0ic1JHQiBJRUM2MTk2Ni0yLjEiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MDVjMzc1ZDYtMWNlOC1kZjRlLTgwYjgtMjlmYTRhZjA2ZDE3IiB4bXBNTTpEb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6ZGRmMGIzYmEtMWNiZC1hMjQ0LWEyZWMtMTg4YTlkOGRlMjk0IiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6ODhkMzU2YTctNzE4MS1lNTRhLTk5ZmUtNDgwZTM1YWM2NmY2Ij4gPHBob3Rvc2hvcDpEb2N1bWVudEFuY2VzdG9ycz4gPHJkZjpCYWc+IDxyZGY6bGk+YWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjAwMDJlNDhlLThmOWUtNjU0Yy05YjQ2LTVmYWZkMTBhN2E2NzwvcmRmOmxpPiA8cmRmOmxpPmFkb2JlOmRvY2lkOnBob3Rvc2hvcDpmMGVkMWVjNy0zNTkwLWRhNGItOTFiMC02MDk0NmYxYTVkOWM8L3JkZjpsaT4gPHJkZjpsaT54bXAuZGlkOjg4ZDM1NmE3LTcxODEtZTU0YS05OWZlLTQ4MGUzNWFjNjZmNjwvcmRmOmxpPiA8L3JkZjpCYWc+IDwvcGhvdG9zaG9wOkRvY3VtZW50QW5jZXN0b3JzPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjg4ZDM1NmE3LTcxODEtZTU0YS05OWZlLTQ4MGUzNWFjNjZmNiIgc3RFdnQ6d2hlbj0iMjAxNy0xMi0xNFQxOTowODowMy0wODowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6NWQ0NjA3NWYtODJkZi1mNzQwLWJlN2UtZjdiNDM5ZmI3MjMxIiBzdEV2dDp3aGVuPSIyMDE3LTEyLTE1VDE5OjIzOjMxLTA4OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDowNWMzNzVkNi0xY2U4LWRmNGUtODBiOC0yOWZhNGFmMDZkMTciIHN0RXZ0OndoZW49IjIwMTctMTItMTlUMTU6NTI6MjEtMDg6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+7SdAwAAAAspJREFUSMfll7trFFEYxX/fnZldNwmJGkKICD4iIWKlIoqrVj46QVBsfYD4H2hhbZAU2oiInVqIWGhlI6ggBlF8BN8hKohEohI1bjb7uPez2NHdTdzZZSdo4QzfbeYO557vnHvujKgqf/sy/IPLj3r49M49hsduJVoGL67oHCdhA+NmzhGUbCEnD7cun9jTufrD2LJeu+XwweZBb548sXjDZO70slxyXb7DpUQoa6FlWOc8Wf9oYnSs9+0F+laeA6aaBv10e2jNF5vdua5/JdbOIFlhBTWK1fza9ufDiwrbdnwBLjat6RvD4I+WdnCGgtPq0nLZIkCCJ0rPlYcPzscy0t1PH/u++Ubr2k0sSTyeGcPA1cu5WKCZru4z87HToMxTalZSBaRId6Dj29KbjsZy777+vlP25YtDNwIfDYIqIaXCSEYMMM2SnLG73o1fiwW6u6d77/wH94vXXw57WZEKIJAKP3nOp8PlSU9871p15mwiFujzkdH9/R2dyS2ZH3gJnz+llwAOh/opJluUzyOvDnRBZIslKgaPtbXmt2cLwdLNaezCBeDcrC1TYmwhmUJej3DpyWOOqErTTCWTLbZ6yaDNGJxUCVnFVMVg8FDxSEA2VnsxBsVgw6JGV4x1qHGIk/jZ6wAnJYKi1SlUFU4CiICU3onHFFBVSnfZsbNBFRVFaOyYjAwHT8FZC1obMNypgGCda+is9OuvSFA0HDVKiHDeXLT3N5BENNgAjZmoIVAJh1+61WJa8tIcuNcTrURFNIKpCIjMjaYFVSwOE8HUd4pTxTb4kVe3vQgIIcuodFNpWNXoGJQwD4wBz9RMB6cOMVJaXFzQhAqtnuBlM5hJH7UWCds+y9MJhykWCBowUyRozlnvvbOMDg1VgZhwZ8oM7gHwGbxYoOmB419NMd+GyxUU57QiCipPuFIJBt9sDFJTdW3y3/xW/ARNpjvxl80uLAAAAABJRU5ErkJggg==';\r\n    } else if (color.toLowerCase() == 'yellow') {\r\n      truckUrl = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAdCAYAAABWk2cPAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAIKmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAxNy0xMi0xNFQxOTowODowMy0wODowMCIgeG1wOk1vZGlmeURhdGU9IjIwMTctMTItMTlUMTU6NTg6NTUtMDg6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMTctMTItMTlUMTU6NTg6NTUtMDg6MDAiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiBwaG90b3Nob3A6SUNDUHJvZmlsZT0ic1JHQiBJRUM2MTk2Ni0yLjEiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6YWQ4MjFkZjMtZmFlNC0xMjQzLTljZTUtZmFkN2E2MTdmNTU3IiB4bXBNTTpEb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6ZjUwN2IxYmMtNDBkZS0wZDQyLWIwZTctMGU4NjNmNzVkNjA0IiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6ODhkMzU2YTctNzE4MS1lNTRhLTk5ZmUtNDgwZTM1YWM2NmY2Ij4gPHBob3Rvc2hvcDpEb2N1bWVudEFuY2VzdG9ycz4gPHJkZjpCYWc+IDxyZGY6bGk+YWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjAwMDJlNDhlLThmOWUtNjU0Yy05YjQ2LTVmYWZkMTBhN2E2NzwvcmRmOmxpPiA8cmRmOmxpPmFkb2JlOmRvY2lkOnBob3Rvc2hvcDo4MzcxY2U2YS0xYWZkLTE0NDMtOTgxZC1kN2E4NGY1NmU0ZWU8L3JkZjpsaT4gPHJkZjpsaT5hZG9iZTpkb2NpZDpwaG90b3Nob3A6ZjBlZDFlYzctMzU5MC1kYTRiLTkxYjAtNjA5NDZmMWE1ZDljPC9yZGY6bGk+IDxyZGY6bGk+eG1wLmRpZDo4OGQzNTZhNy03MTgxLWU1NGEtOTlmZS00ODBlMzVhYzY2ZjY8L3JkZjpsaT4gPC9yZGY6QmFnPiA8L3Bob3Rvc2hvcDpEb2N1bWVudEFuY2VzdG9ycz4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo4OGQzNTZhNy03MTgxLWU1NGEtOTlmZS00ODBlMzVhYzY2ZjYiIHN0RXZ0OndoZW49IjIwMTctMTItMTRUMTk6MDg6MDMtMDg6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cykiLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjVkNDYwNzVmLTgyZGYtZjc0MC1iZTdlLWY3YjQzOWZiNzIzMSIgc3RFdnQ6d2hlbj0iMjAxNy0xMi0xNVQxOToyMzozMS0wODowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6YWQ4MjFkZjMtZmFlNC0xMjQzLTljZTUtZmFkN2E2MTdmNTU3IiBzdEV2dDp3aGVuPSIyMDE3LTEyLTE5VDE1OjU4OjU1LTA4OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDwvcmRmOlNlcT4gPC94bXBNTTpIaXN0b3J5PiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PnewY6UAAAJESURBVEjH3VYxaxRREP6+9/ayudUIkSNnCAoRlYiIWgmChRDsRUtbC3+AlsHWwlYbi1hpYxEEm1ipMRBREUQ8go2SHCki3l243N7uzVgkJnfHubu5FxJw4LHFzs43833zZoeqir02g32wfQH1kl5WVn+Vv3y4Fxw78kwODR2EyIYU2iP19VDwc+WiGT91v14cHR9NisskTacfXGtcnXzrF0Z+IwzZ9lU3tCDIe5h91cSaXApv3Jwb7JveT58/ytJyDaoWbD9iQfG2DtSDUhDFFqVvJXHSdHpGML9A+EFyEAVhSUTxAB4/ybtp2lBBswXAEtZqO7ddmStoFbRALQrdQGdnHqJVvY1qtQLGBv9Sn1DUQoVqA1N3b6WCMm04vH6R17mFYQgDWLtNaEelamANcO5MGZPX1+gE+vTRUW22hlA4/ANxRND2vDCgKOwAMHFC8fzl2PqdqcWgb3pPn6xhtT6OkWIRKgrVnpKCCng+8WZ+BWOFipumUWwQRzHOnj8OSMqMzg+gvNRC4cCyG+gWk+sR4pYkuuUIxFGMMDSOoGx7MsWPuzR7t6tNiao9Eu0XVDvmrKYzortUqTJjpZudra6gZHfUhEL1b4Ku9HLnncIMbon9bVRBEDvZo9QVFJqtPt0cSwRhMiTopXFFApqle9ljoeive6VNo/TuJbOJmghqQfi+B2TUdANPHK+MWv2+2OTlKx6MmERGMJiD73uwoHECHS76K8V6IXj/LhIVdvzKui3nA6WvDXNhwtadN4f/ZsP/Awzt5R3bsQ2jAAAAAElFTkSuQmCC';\r\n    } else if (color.toLowerCase() == 'purple') {\r\n      truckUrl = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAdCAYAAABWk2cPAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAH3mlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAxNy0xMi0xNFQxOTowODowMy0wODowMCIgeG1wOk1vZGlmeURhdGU9IjIwMTgtMDMtMDJUMTI6MjA6MzMtMDU6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMTgtMDMtMDJUMTI6MjA6MzMtMDU6MDAiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiBwaG90b3Nob3A6SUNDUHJvZmlsZT0ic1JHQiBJRUM2MTk2Ni0yLjEiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6YjVmYmU3YjYtZGQ1OC1jNzRiLThmZGYtYjJkNjU1NTY3OTE0IiB4bXBNTTpEb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6ZjAxNmZmNjctYWYxZC02MTQ5LTgzMjQtZDM0OGY1Nzg0ZTk0IiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6ODhkMzU2YTctNzE4MS1lNTRhLTk5ZmUtNDgwZTM1YWM2NmY2Ij4gPHBob3Rvc2hvcDpEb2N1bWVudEFuY2VzdG9ycz4gPHJkZjpCYWc+IDxyZGY6bGk+YWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjAwMDJlNDhlLThmOWUtNjU0Yy05YjQ2LTVmYWZkMTBhN2E2NzwvcmRmOmxpPiA8cmRmOmxpPmFkb2JlOmRvY2lkOnBob3Rvc2hvcDpmMGVkMWVjNy0zNTkwLWRhNGItOTFiMC02MDk0NmYxYTVkOWM8L3JkZjpsaT4gPHJkZjpsaT54bXAuZGlkOjg4ZDM1NmE3LTcxODEtZTU0YS05OWZlLTQ4MGUzNWFjNjZmNjwvcmRmOmxpPiA8L3JkZjpCYWc+IDwvcGhvdG9zaG9wOkRvY3VtZW50QW5jZXN0b3JzPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjg4ZDM1NmE3LTcxODEtZTU0YS05OWZlLTQ4MGUzNWFjNjZmNiIgc3RFdnQ6d2hlbj0iMjAxNy0xMi0xNFQxOTowODowMy0wODowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6NWQ0NjA3NWYtODJkZi1mNzQwLWJlN2UtZjdiNDM5ZmI3MjMxIiBzdEV2dDp3aGVuPSIyMDE3LTEyLTE1VDE5OjIzOjMxLTA4OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDpiNWZiZTdiNi1kZDU4LWM3NGItOGZkZi1iMmQ2NTU1Njc5MTQiIHN0RXZ0OndoZW49IjIwMTgtMDMtMDJUMTI6MjA6MzMtMDU6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+3413jwAAAupJREFUSMfll89vVFUUxz/n3vum04LlV8Dwa1GRNoS4wKYQ40pwRQg7owlucCEbNqzwD2CHCzfKQleWxBBWJpC4QzYEQ8LCKKLSAFWUSJBSy0w7795zXLwpnaYz0zqv0YVncieZnJv3vef7/Z5z34iZ8W+H4z+I0C15cfwSD29eqeQXXnm5Nr2pIlnSpacWGrEuz/ZeeTK669iDqaHf0okz7/QOeuOzmzuGpt78eGsaGtO1jX4n8lwLa8IroEGlOjk6MZM9GGfYPgVqPYNOXn/66vrG06N7dm4g17QoZy3CZALENBpvrd8mb8w8Bs73rOmjyv2zs/01oglR46KVbGHVU6IRYCJ8v/Xqj199XspI3818M1wP09bCatuoAI4+7lduc/7rT+ZKgcaN9XMv6LpZATKrdlyePjKBF9PmP17b9/oHpdx7eMdbH6Vb6f1vB66iYkhLTqz4ZYAiVKOwqbYz7f356JelQA8OHnk7j2viDz9d81HmWAy7ELl3DOaDbGf35iOnD1ZKgd75ZeL4ljDS91Ico2J9GNpml4AqiPCXTTM5efc9GO1KsXQbg+/KqcYIY9nI8AiyIS+4nG+ZJr2C4BWs38jvBC4//IJx+1B6rnSWuZgxkPXLGpxFRKVNnYKJoSqIeQJZvRS9gkMxoiScJKTD+U0dmiCZKz97FS10NCno7KCEiIEAomhb3Xu6ZQyjs/bODHEGrOyaXAZUiOSYFdp1ZMQVuaQJt4I6XPekw5p1drOj1+JIxbiU1aDXWr7bR3LGP3n/CMttEAQR8ALWYfA7BWvuKw2aEfBNMpItzNsllQoFoHTXfoV9WhgJtGulogG1hJquDr2+sAjJrGOlUIzfVdHUNakSZ7gAFjt5LeG9zDugLGhGlQGk7pEgkOYf61r8LIgJWoGsYQSycqANZv0jfuX3e3efTyRpfto1iScwzZ++FOihkwemfMOvDXPkTk3ngVR0SS+rGCmIG67ury3bhv+bvxV/A8sVQAg8+gDYAAAAAElFTkSuQmCC';\r\n    }\r\n\r\n    return truckUrl;\r\n  }\r\n\r\n  convertMilesToFeet(miles) {\r\n    return Math.round(miles * 5280);\r\n  }\r\n\r\n  pushNewTruck(maps, truckItem) {\r\n    const that = this;\r\n    var currentObject = this;\r\n    var pinLocation = new Microsoft.Maps.Location(truckItem.lat, truckItem.long);\r\n    var destLoc = new Microsoft.Maps.Location(truckItem.wrLat, truckItem.wrLong);\r\n    var iconUrl;\r\n    var infoBoxTruckUrl;\r\n    var NewPin;\r\n    var jobIdUrl = '';\r\n\r\n    var truckColor = truckItem.truckCol.toLowerCase();\r\n    iconUrl = this.getIconUrl(truckColor, truckItem.lat, truckItem.long, truckItem.wrLat, truckItem.wrLong);\r\n\r\n    if (truckColor == 'green') {\r\n      infoBoxTruckUrl = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAAArCAYAAADbjc6zAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFGmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAxOC0wNS0wMVQxNjoxMToxMC0wNDowMCIgeG1wOk1vZGlmeURhdGU9IjIwMTgtMDUtMDFUMTY6MjAtMDQ6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMTgtMDUtMDFUMTY6MjAtMDQ6MDAiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiBwaG90b3Nob3A6SUNDUHJvZmlsZT0ic1JHQiBJRUM2MTk2Ni0yLjEiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OTdkZjE0YmQtNDBhOC01NDRjLTkzOTAtM2RiNmZkYTZmMmJlIiB4bXBNTTpEb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6MGFkM2IyZDItODBhNi0xMDRkLThiNzQtZjVhZDFmMThlYzEyIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6OTdkZjE0YmQtNDBhOC01NDRjLTkzOTAtM2RiNmZkYTZmMmJlIj4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo5N2RmMTRiZC00MGE4LTU0NGMtOTM5MC0zZGI2ZmRhNmYyYmUiIHN0RXZ0OndoZW49IjIwMTgtMDUtMDFUMTY6MTE6MTAtMDQ6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cykiLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+OduK3QAAAw9JREFUaN7tmj1PG0EQhu8nuKehDJ0rlNJSJGpHpCWylDYF6aABV6QiQQKlSRRMFSUFpqNBmAoEBaQgpDTiQ5QGmpSbe9FtNBn2znt3O8d9eKSRbTjtvvfc7szc7nqekCml2qrYduJ7TQpOQ/dy/+defTnYUMu9tdw7dEIvsa4UoC3dw9Snl2ps4VlhHHqpJQVQ9/2j7z3fB2Fj9NfN70LB0X7QP0oGKADTs53E6KgygPxrFzkAzFc0Rh2jpnKA/OvW+ch48+2tsfFX66+rBYjDWdx+H9l4pQBxOO+680MbrwygJHAqAygpnEoASgOn9IDSwik1IP/7Slo4pQXkfzZdwCkzoL4LOKUEREfPj5Nu6sbLCKijfzz/8GIEyAAIK2fqcnDtpPEyAnJ6MyNAQxzTlJqLaZulTyxNqjuy7OpJPG26JnQxuFKzm3Nq+utM7h06ofe/JVcJQHSaFdxmPal4gXqK7RAUzbZ0kSgWUDGfscCG+oovzebRmbXFARXNR4CyBITpoyM/PvO0QYjSgmqzLTWcAEJn3483jVENKXJ5d/XJwGCn5ZSUGNT2+4cP2VUUEDLTnUVmgkiMsCzhhD00bp/3N2QA4enwbWVkKDwVON/4zxISh4N70dqgG1mUasP1TgHx8jtsbwzX0SraxfKJzai2WexDaKDaTNPtUZFoCwhHQ2w3DgEJKwNZvYvRV4M42k7ZwQpD9d/QgPaG3YwWYbskQqfjMNGujqrYaqMjjt4vQgSzcQ2opf+yfbbzKG7gtzY0EremkKyv6Mi21UbvR58v4GeCMGj4ds9P/R/EGkR6pGs4DYAQZCtexyyd+iUcqTuJNpr6Q7JfnQOqUUhhlmQEZWVJAIVYK2y7uRYcvLyNqm/yutxhq42XK/Tt/V9gtjyESb0TZ1uIDv0gCTQEvR2VurmzSvs8aKOW9lDmOI1RUUIMc7ruCVtwow/aot4JDdpaYuee0RleBJEVIMq0XOlUQLS2ZgJtHQkhKzHCQtvL0Gi5YmEd6ad1HtH5nnWwc6+tTgtfg0F3M06bfwG4Tv8Xy+hPaAAAAABJRU5ErkJggg==';\r\n    } else if (truckColor == 'red') {\r\n      infoBoxTruckUrl = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAAArCAYAAADbjc6zAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFEmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAxOC0wNS0wMVQxNjoxMToyMS0wNDowMCIgeG1wOk1vZGlmeURhdGU9IjIwMTgtMDUtMDFUMTY6MTU6MjMtMDQ6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMTgtMDUtMDFUMTY6MTU6MjMtMDQ6MDAiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiBwaG90b3Nob3A6SUNDUHJvZmlsZT0ic1JHQiBJRUM2MTk2Ni0yLjEiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6ZjA1Y2VmNDctM2NjYi03YjQ2LWI1ZjQtN2I5MDAwMjg1MjllIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOmYwNWNlZjQ3LTNjY2ItN2I0Ni1iNWY0LTdiOTAwMDI4NTI5ZSIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOmYwNWNlZjQ3LTNjY2ItN2I0Ni1iNWY0LTdiOTAwMDI4NTI5ZSI+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6ZjA1Y2VmNDctM2NjYi03YjQ2LWI1ZjQtN2I5MDAwMjg1MjllIiBzdEV2dDp3aGVuPSIyMDE4LTA1LTAxVDE2OjExOjIxLTA0OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIi8+IDwvcmRmOlNlcT4gPC94bXBNTTpIaXN0b3J5PiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PpKpcKcAAAL4SURBVGje7ZrNSjMxFIbnEuYSunbVnVs37sUbcG5A6NZunKU7Xeja6g20F1Cw624UQSwI/kBFEIpFQRCEmLc0cnqcTDMzyTg/PXA+9WNI3jxJTk5+PM+BCSFCUW67lO57juBsqFq+39/F6/m5eDk5KbxDJ/QS67oC1FM1jLa3xeXaWmkcepk10gBoSj+UfiH9TTdGP0ejUsFR/jEc0maEScFcmE5iVFQbQPLDfQ4A8xWFUceoqR0g+dEpHxn3u7uRhd8FQb0AcTjjg4PYwmsFiMN5areXFl4bQGng1AZQWji1AJQFTuUBZYVTaUDyl6OscCoLSP6zZQNOlQE92IBTZUAzm/R6mQuvNKCbzc0VIB2gr+dnK4VXFpCtxqwALXFMU2o2pm2efr2+zo9dW57t3qZnQl/jsXja2xN3OzuFd+iEXma+dUB0mpXcWiqLth4vkE+xoVo269E9mJOAivmMAzbkV/xotojOLHQOqGy+ApQnIEwfFfnxs0gXhEgtqDbTVMMKIFQ26XYjoxqWyJfj438Dg5uWz9tb7R0dVlengExXJojECMsTjq7TuL2enbkBhN7h18pYodArcH7xnyckDgdtUdqgG6so1YbvrQLi6bfubgzf0SzaxvGJyag2OexDaKDaoqZbZJJoAghPQ0wvDgEJJwN57cXo1iCJNozwJdn/xgKguMYoEaZHInQ6LhNt66mKqTY64mh7ESK0z17U/0z7/T9xA3//BjhZSNKcwmV+RUe2qTbaHvW+IOJN0IDfhV0tvAiTkR7LNZwGQAgyFa9illr6XTjdHiTRRjtPs/o1OSCfQtIukSlGUF6WBpDGAt1dvD9/eDmNy2+Ketxhqo2nK3T3vhCYDR5hUu8kuRZiO+NBRHk2PYxbuv8c5i1m2o/zMvysjzIbNEbFCYmY003Psc0bOtMWtyeM0BY4e/eMyrARxKoAUZrjysDLwfjNsKG2jgshRwnCQujlaOiMBNo6rnvrMabygXGws6+tOa9fZ9C9lbTcHxHBxB7J6eTVAAAAAElFTkSuQmCC';\r\n    } else if (truckColor == 'yellow') {\r\n      infoBoxTruckUrl = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAAAsCAYAAADGiP4LAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFEmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAxOC0wNS0wMVQxNjoxMTowNi0wNDowMCIgeG1wOk1vZGlmeURhdGU9IjIwMTgtMDUtMDFUMTY6MTU6MTktMDQ6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMTgtMDUtMDFUMTY6MTU6MTktMDQ6MDAiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiBwaG90b3Nob3A6SUNDUHJvZmlsZT0ic1JHQiBJRUM2MTk2Ni0yLjEiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OTAyNDE4Y2EtNTMzNC04NjRjLWFhNmEtYTJlNDk2YmU1YmE4IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjkwMjQxOGNhLTUzMzQtODY0Yy1hYTZhLWEyZTQ5NmJlNWJhOCIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjkwMjQxOGNhLTUzMzQtODY0Yy1hYTZhLWEyZTQ5NmJlNWJhOCI+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6OTAyNDE4Y2EtNTMzNC04NjRjLWFhNmEtYTJlNDk2YmU1YmE4IiBzdEV2dDp3aGVuPSIyMDE4LTA1LTAxVDE2OjExOjA2LTA0OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIi8+IDwvcmRmOlNlcT4gPC94bXBNTTpIaXN0b3J5PiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PnKbI5YAAAMJSURBVGje7Zq9SsRAEIDvESx8AMEXOHwB7wnUJ5B7AAV7C6/VRkutvM5SQQQbOQW1sfBALSz84RobwbPQQsytM2s2TjabZPOza35uYFBQspMvszOzs9NoWBDG2ATobAm02bApsOAC6BMrl7yBruFHNQ2nw8ot18YgwYNb3jJf78x53GHO/UbxFexEe4nsmwJ0IFZwzlrs+3CyNIr2UkkLoAm6Cdpz96xSRu+3pYIjdPR6kQ6QC6anu4lxodoAciO7X2C/4sN8Cl5TO0Dwf7uyZzhXi+o9fDlfL0ABOHer0UGuToACcPrL8VmgLoDSwKkNoLRwagEoC5zKA8oKp9KA4PetrHAqC8htS2SGU2VAT3nAqSQg6j2jwV7203AFAXW91sTJzBiQAtA1/+1zkE8/pYKAcn2ZMaA4QLBNqeSxba3q8TRjX0NzgPgXID0h9jFgTn8JPGuu+Ap2or2+lqsJQHSblVxWGqbiBdZT0g1B2eRAFInmAirsZ2ywYX0VaM0WUCXpmAdUMh0DsgoIto+I/PxngS4IsbTw2aZZauQCCBfDmKIUSJGj+/X/A3O1CCXGTcgd3TnPrkYB/WamYfyFIRiJHma1+g37aJI4D9tmAOHXka+VMUPhV+EqXfzbhCTD4VlJ2IZehX+ntoV0LdIDksrv0LsxTOv0ZjWH9omWV2s0+3hoILaptlugSNQFhKMhuheHHObnwNpZjB4NktjGPTy6+m8JQKdxL+MZodkSodsx1ui8RlU0baMeR9+Xhwi/TAlAbe9lXo6CcQOpiwfCQ5LWFCbrK+rZ2rbR93HnC+SZIHQa+bqn/zexMeSRHtM1VxIA0SBtQCJmuanfiELqTmUbSf0h2a+pmkLtx6bIFB5kS9IACpF21KguDl4OI+ubgrY7tG2TyhV6evcCs+YQJtVukmsh6vpuEmgZ1E5U6g4283yV9rP7jImsQ5lTvhgVYYhiTzctzGM/e7ZFnAkVtrWNzT3jYngQ5IdWMErVrszVgPiB9aS2dU0YspUgLHQsT/W3E9imDecHRjxSmK+bqfwAAAAASUVORK5CYII=';\r\n    } else if (truckColor == 'purple') {\r\n      infoBoxTruckUrl = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAAArCAYAAADbjc6zAAAACXBIWXMAAAsTAAALEwEAmpwYAAAGtmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAxOC0wMy0wM1QxMTozMTowNC0wNTowMCIgeG1wOk1vZGlmeURhdGU9IjIwMTgtMDUtMDFUMTY6MTU6NDktMDQ6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMTgtMDUtMDFUMTY6MTU6NDktMDQ6MDAiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiBwaG90b3Nob3A6SUNDUHJvZmlsZT0ic1JHQiBJRUM2MTk2Ni0yLjEiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MDkwYTAwZTYtOTNmZi1kYjQ1LWIxMjEtM2I1MzBmN2YyZTQwIiB4bXBNTTpEb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6NTJkMWQwMDgtYWMxMy03MDQ5LTlmOGMtOThiNTcxZDIzYjI0IiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6YzI0OTg0MGUtMmJkMS1kZDQxLTg0Y2ItMWQ0YjRjNzVkMDkxIj4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDpjMjQ5ODQwZS0yYmQxLWRkNDEtODRjYi0xZDRiNGM3NWQwOTEiIHN0RXZ0OndoZW49IjIwMTgtMDMtMDNUMTE6MzE6MDQtMDU6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cykiLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjJmMzk3MjE4LTlmMDUtZTc0MC1iY2Y5LTNiMmVjMzk5MDQ3MiIgc3RFdnQ6d2hlbj0iMjAxOC0wMy0wM1QxMTozOTowOC0wNTowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6MDkwYTAwZTYtOTNmZi1kYjQ1LWIxMjEtM2I1MzBmN2YyZTQwIiBzdEV2dDp3aGVuPSIyMDE4LTA1LTAxVDE2OjE1OjQ5LTA0OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDwvcmRmOlNlcT4gPC94bXBNTTpIaXN0b3J5PiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PgYoI4oAAAL9SURBVGje7Zq7ThtBFIb3EfwIPIIfgTfANZWr1O6DhLuUQBspynZWinALDUhgF0gkUiQih2Yb1kUokJCMEAVUy/7IA8fHs7uzu3M2e/GRjnzRaubfb2bOnLk4jpAFQdAPqm2Xobek4KyqWp4en4PxoRf8HlyV3qETeontSQHaVzV87x0Hn9e+Vcahl1pWAO3Qt0Ifhj6N6qN3/rRScJTf/L3NBmgGZmg6iFFRYwCFz25yABivKIw6ek3jAIXPfeU94+TTubbwo41hswBxOBdfLmMLbxQgDme08yux8MYAygKnMYCywmkEoDxwag8oL5xaAwq/b+eFU1tA4WfHBpw6A/JtwKklINp7vDM/d+F1BOSqH4MPR0tAGkDYOQsebh+tFF5HQFZfZgkowTFMqdkYtkW6u747t+3qSLQ23RPC0MXM+OPjWekdOqF3bstVAhAdZhW3niMVL9Aa7ISgaravkkSxgIrxjA025Fd8a7aMzqwvDqhqvgRUJCAMHxX58VmmA0KkFlSbaaphBRAq8059bVTDFIkj3P8FBictd9fTyDM6zK6igExnJohEDysSTlSjcRsfeDKA0Dr8WBkzFFoFzg/+i4TE4eBdlDboxixKteF5q4B4+h11NobnaBZtY/vEpFebbPYhNFBtuuG2kCSaAkJcMT04BCSarkuvxWhdabShhydk/6sK0CjpZVShplsidDgmibZ1VcVUG+1x9H0RIpitKEBd9Y//899C3MDvtwB36KXOKSTzK9qzTbXR91H3C/idIHQaftzzZ+5G2MH7jTAaANNM4SpmqalfwunyII022ngRs1+bA2pRSJFTZIYeVJRlARRh3ajj5tbs4uV9XH5T1u0OU208XaGr97fAbHgJk7qb5liIrYxHmvJsej9u6l7YzJvPtCezMlp5L2Wu0BgVJ0QzptuOsM1e9FVb3JpQo60rdu8ZlWEhiFkBonTblVYFxGvrZNDmSgjZThEW+k6BRtMVA3OlW2sSU/nIONjZ19amia/GoLuTpswXoaTwsnKAkdEAAAAASUVORK5CYII=';\r\n    }\r\n\r\n    var feetforMiles = 0.000189394;\r\n    var mielsTodispatch = parseFloat(truckItem.dist).toFixed(2);\r\n\r\n    this.results.push({\r\n      display: truckItem.truckId + \" : \" + truckItem.techID,\r\n      value: 1,\r\n      Latitude: truckItem.lat,\r\n      Longitude: truckItem.long\r\n    });\r\n\r\n    var truckUrl = this.getTruckUrl(truckColor);\r\n    const listOfPushPins = maps.entities;\r\n    var isNewTruck = true;\r\n\r\n    var metadata = {\r\n      truckId: truckItem.truckId,\r\n      ATTUID: truckItem.techID,\r\n      truckStatus: truckItem.truckCol,\r\n      truckCol: truckItem.truckCol,\r\n      jobType: truckItem.jobType,\r\n      WRJobType: truckItem.workType,\r\n      WRStatus: truckItem.wrStat,\r\n      AssingedWRID: truckItem.wrID,\r\n      Speed: truckItem.speed,\r\n      Distance: mielsTodispatch,\r\n      CurrentIdleTime: truckItem.idleTime,\r\n      ETA: truckItem.totIdleTime,\r\n      Email: '',// truckItem.Email,\r\n      Mobile: '', // truckItem.Mobile,\r\n      icon: iconUrl,\r\n      iconInfo: infoBoxTruckUrl,\r\n      CurrentLat: truckItem.lat,\r\n      CurrentLong: truckItem.long,\r\n      WRLat: truckItem.wrLat,\r\n      WRLong: truckItem.wrLong,\r\n      techIds: this.reportingTechnicians,\r\n      jobId: truckItem.jobId,\r\n      managerIds: this.managerIds,\r\n      workAddress: truckItem.workAddress,\r\n      sbcVin: truckItem.sbcVin,\r\n      customerName: truckItem.customerName,\r\n      technicianName: truckItem.technicianName,\r\n      dispatchTime: truckItem.dispatchTime,\r\n      region: truckItem.zone\r\n    };\r\n\r\n    let jobIdString = 'http://edge-edt.it.att.com/cgi-bin/edt_jobinfo.cgi?';\r\n\r\n    let zone = truckItem.zone;\r\n\r\n    // = M for MW\r\n    // = W for West\r\n    // = B for SE\r\n    // = S for SW\r\n    if (zone != null && zone != undefined) {\r\n      if (zone === 'MW') {\r\n        zone = 'M';\r\n      } else if (zone === 'SE') {\r\n        zone = 'B'\r\n      } else if (zone === 'SW') {\r\n        zone = 'S'\r\n      }\r\n    } else {\r\n      zone = '';\r\n    }\r\n\r\n    jobIdString = jobIdString + 'edt_region=' + zone + '&wrid=' + truckItem.wrID;\r\n\r\n    truckItem.jobId = truckItem.jobId == undefined || truckItem.jobId == null ? '' : truckItem.jobId;\r\n\r\n    if (truckItem.jobId != '') {\r\n      jobIdUrl = '<a href=\"' + jobIdString + '\" target=\"_blank\" title=\"Click here to see actual Force/Edge job data\">' + truckItem.jobId + '</a>';\r\n    }\r\n\r\n    if (truckItem.dispatchTime != null && truckItem.dispatchTime != undefined && truckItem.dispatchTime != '') {\r\n      let dispatchDate = truckItem.dispatchTime.split(':');\r\n      let dt = dispatchDate[0] + ' ' + dispatchDate[1] + ':' + dispatchDate[2] + ':' + dispatchDate[3];\r\n      metadata.dispatchTime = that.UTCToTimeZone(dt);\r\n    }\r\n\r\n    // Update in the TruckWatchList session\r\n    if (sessionStorage.getItem('TruckWatchList') !== null) {\r\n      this.truckList = JSON.parse(sessionStorage.getItem('TruckWatchList'));\r\n\r\n      if (this.truckList.length > 0) {\r\n        if (this.truckList.some(x => x.truckId == truckItem.truckId) == true) {\r\n          let item = this.truckList.find(x => x.truckId == truckItem.truckId);\r\n          const index: number = this.truckList.indexOf(item);\r\n          if (index !== -1) {\r\n            item.Distance = metadata.Distance;\r\n            item.icon = metadata.icon;\r\n            this.truckList.splice(index, 1);\r\n            this.truckList.splice(index, 0, item);\r\n            this.mapService.storeDataInSessionStorage('TruckWatchList', this.truckList);\r\n            item = null;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    // Update in the SelectedTruck session\r\n    if (sessionStorage.getItem('TruckDetails') !== 'undefined') {\r\n      let selectedTruck: any;\r\n      selectedTruck = JSON.parse(sessionStorage.getItem('TruckDetails'));\r\n\r\n      if (selectedTruck != null) {\r\n        if (selectedTruck.truckId == truckItem.truckId) {\r\n          sessionStorage.removeItem('TruckDetails');\r\n          this.mapService.storeDataInSessionStorage('TruckDetails', metadata);\r\n          selectedTruck = null;\r\n        }\r\n      }\r\n    }\r\n\r\n    if (this.truckItems.length > 0 && this.truckItems.some(x => x.toLowerCase() == truckItem.truckId.toLowerCase())) {\r\n      isNewTruck = false;\r\n      // If it is not a new truck then move the truck to new location\r\n      for (let i = 0; i < listOfPushPins.getLength(); i++) {\r\n        if (listOfPushPins.get(i).metadata.truckId === truckItem.truckId) {\r\n          var curPushPin = listOfPushPins.get(i);\r\n          curPushPin.metadata = metadata;\r\n          destLoc = pinLocation;\r\n          pinLocation = listOfPushPins.get(i).getLocation();\r\n\r\n          let truckIdRanId = truckItem.truckId + '_' + Math.random();\r\n\r\n          this.animationTruckList.forEach((item, index) => {\r\n            if (item.indexOf(truckItem.truckId) > -1) {\r\n              this.animationTruckList.splice(index, 1);\r\n            }\r\n          });\r\n          this.animationTruckList.push(truckIdRanId);\r\n\r\n          this.loadDirections(this, pinLocation, destLoc, i, truckUrl, truckIdRanId);\r\n\r\n          return;\r\n        }\r\n      }\r\n    } else {\r\n      this.truckItems.push(truckItem.truckId);\r\n      NewPin = new Microsoft.Maps.Pushpin(pinLocation, { icon: truckUrl });\r\n\r\n      NewPin.metadata = metadata;\r\n      this.map.entities.push(NewPin);\r\n\r\n      this.dataLayer.push(NewPin);\r\n      if (this.isMapLoaded) {\r\n        this.isMapLoaded = false;\r\n        this.map.setView({ center: pinLocation, zoom: this.lastZoomLevel });\r\n        that.lastZoomLevel = this.map.getZoom();\r\n        that.lastLocation = this.map.getCenter();\r\n      }\r\n\r\n      Microsoft.Maps.Events.addHandler(NewPin, 'mouseout', (e) => {\r\n        this.infobox.setOptions({ visible: false });\r\n      });\r\n\r\n      if ($(window).width() < 1024) {\r\n        Microsoft.Maps.Events.addHandler(NewPin, 'click', (e) => {\r\n          this.infobox.setOptions({\r\n            showPointer: true,\r\n            location: e.target.getLocation(),\r\n            visible: true,\r\n            showCloseButton: true,\r\n            offset: new Microsoft.Maps.Point(0, 20),\r\n            htmlContent: '<div class = \"infy infyMappopup\">'\r\n              + getInfoBoxHTML(e.target.metadata, this.thresholdValue, jobIdUrl) + '</div>'\r\n          });\r\n\r\n          this.truckWatchList = [{ TruckId: e.target.metadata.truckId, Distance: e.target.metadata.Distance }];\r\n\r\n          this.mapService.storeDataInSessionStorage('selectedTruck', e.target.metadata);\r\n          this.mapService.storeDataInSessionStorage('TruckDetails', e.target.metadata);\r\n\r\n          // A buffer limit to use to specify the infobox must be away from the edges of the map.\r\n\r\n          var buffer = 30;\r\n          var infoboxOffset = that.infobox.getOffset();\r\n          var infoboxAnchor = that.infobox.getAnchor();\r\n          var infoboxLocation = maps.tryLocationToPixel(e.target.getLocation(), Microsoft.Maps.PixelReference.control);\r\n          var dx = infoboxLocation.x + infoboxOffset.x - infoboxAnchor.x;\r\n          var dy = infoboxLocation.y - 25 - infoboxAnchor.y;\r\n\r\n          if (dy < buffer) { // Infobox overlaps with top of map.\r\n            // #### Offset in opposite direction.\r\n            dy *= -1;\r\n            // #### add buffer from the top edge of the map.\r\n            dy += buffer;\r\n          } else {\r\n            // #### If dy is greater than zero than it does not overlap.\r\n            dy = 0;\r\n          }\r\n\r\n          if (dx < buffer) { // Check to see if overlapping with left side of map.\r\n            // #### Offset in opposite direction.\r\n            dx *= -1;\r\n            // #### add a buffer from the left edge of the map.\r\n            dx += buffer;\r\n          } else { // Check to see if overlapping with right side of map.\r\n            dx = maps.getWidth() - infoboxLocation.x + infoboxAnchor.x - that.infobox.getWidth();\r\n            // #### If dx is greater than zero then it does not overlap.\r\n            if (dx > buffer) {\r\n              dx = 0;\r\n            } else {\r\n              // #### add a buffer from the right edge of the map.\r\n              dx -= buffer;\r\n            }\r\n          }\r\n\r\n          // #### Adjust the map so infobox is in view\r\n          if (dx != 0 || dy != 0) {\r\n            maps.setView({\r\n              centerOffset: new Microsoft.Maps.Point(dx, dy),\r\n              center: maps.getCenter()\r\n            });\r\n          }\r\n\r\n          let selectedTruck: any;\r\n          selectedTruck = this.mapService.retrieveDataFromSessionStorage('selectedTruck');\r\n\r\n          if (selectedTruck != null) {\r\n            const technicianDetails = this.reportingTechnicianDetails.find(\r\n              x => x.attuid.toLowerCase() == selectedTruck.ATTUID.toLowerCase());\r\n\r\n            if (technicianDetails != null) {\r\n              this.technicianEmail = technicianDetails.email;\r\n              this.technicianPhone = technicianDetails.phone;\r\n              this.technicianName = technicianDetails.name;\r\n            }\r\n          }\r\n          Microsoft.Maps.Events.addHandler(this.infobox, 'click', viewTruckDetails);\r\n        });\r\n      } else {\r\n        Microsoft.Maps.Events.addHandler(NewPin, 'mouseover', (e) => {\r\n          this.infobox.setOptions({\r\n            showPointer: true,\r\n            location: e.target.getLocation(),\r\n            visible: true,\r\n            showCloseButton: true,\r\n            offset: new Microsoft.Maps.Point(0, 20),\r\n            htmlContent: '<div class = \"infy infyMappopup\">'\r\n              + getInfoBoxHTML(e.target.metadata, this.thresholdValue, jobIdUrl) + '</div>'\r\n          });\r\n\r\n          this.truckWatchList = [{ TruckId: e.target.metadata.truckId, Distance: e.target.metadata.Distance }];\r\n\r\n          this.mapService.storeDataInSessionStorage('selectedTruck', e.target.metadata);\r\n          this.mapService.storeDataInSessionStorage('TruckDetails', e.target.metadata);\r\n\r\n          // A buffer limit to use to specify the infobox must be away from the edges of the map.\r\n\r\n          var buffer = 30;\r\n          var infoboxOffset = that.infobox.getOffset();\r\n          var infoboxAnchor = that.infobox.getAnchor();\r\n          var infoboxLocation = maps.tryLocationToPixel(e.target.getLocation(), Microsoft.Maps.PixelReference.control);\r\n          var dx = infoboxLocation.x + infoboxOffset.x - infoboxAnchor.x;\r\n          var dy = infoboxLocation.y - 25 - infoboxAnchor.y;\r\n\r\n          if (dy < buffer) { // Infobox overlaps with top of map.\r\n            // #### Offset in opposite direction.\r\n            dy *= -1;\r\n            // #### add buffer from the top edge of the map.\r\n            dy += buffer;\r\n          } else {\r\n            // #### If dy is greater than zero than it does not overlap.\r\n            dy = 0;\r\n          }\r\n\r\n          if (dx < buffer) { // Check to see if overlapping with left side of map.\r\n            // #### Offset in opposite direction.\r\n            dx *= -1;\r\n            // #### add a buffer from the left edge of the map.\r\n            dx += buffer;\r\n          } else { // Check to see if overlapping with right side of map.\r\n            dx = maps.getWidth() - infoboxLocation.x + infoboxAnchor.x - that.infobox.getWidth();\r\n            // #### If dx is greater than zero then it does not overlap.\r\n            if (dx > buffer) {\r\n              dx = 0;\r\n            } else {\r\n              // #### add a buffer from the right edge of the map.\r\n              dx -= buffer;\r\n            }\r\n          }\r\n\r\n          // #### Adjust the map so infobox is in view\r\n          if (dx != 0 || dy != 0) {\r\n            maps.setView({\r\n              centerOffset: new Microsoft.Maps.Point(dx, dy),\r\n              center: maps.getCenter()\r\n            });\r\n          }\r\n\r\n          let selectedTruck: any;\r\n          selectedTruck = this.mapService.retrieveDataFromSessionStorage('selectedTruck');\r\n\r\n          if (selectedTruck != null) {\r\n            const technicianDetails = this.reportingTechnicianDetails.find(\r\n              x => x.attuid.toLowerCase() == selectedTruck.ATTUID.toLowerCase());\r\n\r\n            if (technicianDetails != null) {\r\n              this.technicianEmail = technicianDetails.email;\r\n              this.technicianPhone = technicianDetails.phone;\r\n              this.technicianName = technicianDetails.name;\r\n            }\r\n          }\r\n          Microsoft.Maps.Events.addHandler(this.infobox, 'click', viewTruckDetails);\r\n\r\n        });\r\n      }\r\n\r\n      Microsoft.Maps.Events.addHandler(maps, 'viewchange', mapViewChanged);\r\n\r\n      // this.ChangeTruckDirection(this, NewPin, destLoc, truckUrl);\r\n    }\r\n\r\n    function mapViewChanged(e) {\r\n      that.lastZoomLevel = maps.getZoom();\r\n      that.lastLocation = maps.getCenter();\r\n    }\r\n    function mousewheelChanged(e) {\r\n      that.lastZoomLevel = maps.getZoom();\r\n      that.lastLocation = maps.getCenter();\r\n    }\r\n\r\n    function getInfoBoxHTML(data: any, tValue, jobId): String {\r\n\r\n      if (!data.Speed) {\r\n        data.Speed = 0;\r\n      }\r\n\r\n      var className = \"\";\r\n      var styleLeft = \"\";\r\n      var reason = '';\r\n      if (data.truckStatus != undefined) {\r\n        if (data.truckStatus.toLocaleLowerCase() == 'red') {\r\n          reason = \"<div class='row' style='margin-top:3px;color:red;'>Reason: Cumulative idle time is beyond \" + tValue + \" mins</div>\";\r\n        } else if (data.truckStatus.toLocaleLowerCase() == 'purple') {\r\n          reason = \"<div class='row' style='margin-top:3px;color:purple;'>Reason: Truck is driven greater than 75 m/h</div>\";\r\n        }\r\n      }\r\n\r\n      let infoboxData = '';\r\n\r\n      data.customerName = data.customerName == undefined || data.customerName == null ? '' : data.customerName;\r\n\r\n      data.dispatchTime = data.dispatchTime == undefined || data.dispatchTime == null ? '' : data.dispatchTime;\r\n\r\n      data.jobId = data.jobId == undefined || data.jobId == null ? '' : data.jobId;\r\n\r\n      data.workAddress = data.workAddress == undefined || data.workAddress == null ? '' : data.workAddress;\r\n\r\n      data.sbcVin = data.sbcVin == undefined || data.sbcVin == null || data.sbcVin == '' ? '' : data.sbcVin;\r\n\r\n      data.technicianName = data.technicianName == undefined || data.technicianName == null || data.technicianName == '' ? '' : data.technicianName;\r\n\r\n      if ($(window).width() < 1024) {\r\n        infoboxData = \"<div class='popModalContainer'><div class='popModalHeader'><img src='\" + data.iconInfo + \"' ><a class='details' title='Click here to see technician details' >View Details</a><i class='fa fa-times' aria-hidden='true' style='cursor: pointer'></i></div>\"\r\n          + \"<hr/><div class='popModalBody'>\"\r\n          + \"<div class='row'>\"\r\n          + \"<div class='col-md-6'>\"\r\n          + \"<div class='form-group row'><label class='col col-sm-5 col-form-label'>Vehicle Number :</label><div class='col col-sm-7'><span class='col-form-label'>\" + data.sbcVin + \"</span></div></div></div>\"\r\n          + \"<div class='col-md-6'>\"\r\n          + \"<div class='form-group row'><label class='col col-sm-5 col-form-label'>VTS Unit ID :</label><div class='col col-sm-7'><span class='col-form-label'>\" + data.truckId + \"</span></div></div></div>\"\r\n          + \"</div>\"\r\n          + \"<div class='row'>\"\r\n          + \"<div class='col-md-6'>\"\r\n          + \"<div class='form-group row'><label class='col col-sm-5 col-form-label'>Job Type :</label><div class='col col-sm-7'><span class='col-form-label'>\" + data.jobType + \"</span></div></div></div>\"\r\n          + \"<div class='col-md-6'>\"\r\n          + \"<div class='form-group row'><label class='col col-sm-5 col-form-label'>Job Id :</label><div class='col col-sm-7'><span class='col-form-label'>\" + jobId + \"</span></div></div></div>\"\r\n          + \"</div>\"\r\n          + \"<div class='row'>\"\r\n          + \"<div class='col-md-6'>\"\r\n          + \"<div class='form-group row'><label class='col col-sm-5 col-form-label'>ATTUID :</label><div class='col col-sm-7'><span class='col-form-label'>\" + data.ATTUID + \"</span></div></div></div>\"\r\n          + \"<div class='col-md-6'>\"\r\n          + \"<div class='form-group row'><label class='col col-sm-5 col-form-label'>Technician Name :</label><div class='col col-sm-7'><span class='col-form-label'>\" + data.technicianName + \"</span></div></div></div>\"\r\n          + \"</div>\"\r\n          + \"<div class='row'>\"\r\n          + \"<div class='col-md-6'>\"\r\n          + \"<div class='form-group row'><label class='col col-sm-5 col-form-label'>Customer Name :</label><div class='col col-sm-7'><span class='col-form-label'>\" + data.customerName + \"</span></div></div></div>\"\r\n          + \"<div class='col-md-6'>\"\r\n          + \"<div class='form-group row'><label class='col col-sm-5 col-form-label'>Dispatch Time:</label><div class='col col-sm-7'><span class='col-form-label'>\" + data.dispatchTime + \"</span></div></div></div>\"\r\n          + \"</div>\"\r\n          + \"<div class='row'>\"\r\n          + \"<div class='col-md-12'>\"\r\n          + \"<div class='form-group row'><label class='col-12 col-sm-12 col-form-label'>Job Address :</label><div class='col-12 col-sm-12'><span class='col-form-label col-form-label-full'>\" + data.workAddress + \"</span></div></div></div>\"\r\n          + \"</div>\"\r\n          + \"<div class='row meterCal'>\"\r\n          + \"<div class='col-12 col-md-4'><strong>\" + data.Speed + \"</strong> mph <span class='infoBox-bottom1'>Speed</span></div>\"\r\n          + \"<div class='col-12 col-md-4'><strong>\" + data.ETA + \"</strong> Mins <span class='infoBox-bottom1'>Cumulative Idle Minutes</span></div>\"\r\n          + \"<div class='col-12 col-md-4'><strong>\" + that.convertMilesToFeet(data.Distance) + \"</strong> Ft <span class='infoBox-bottom1'>Feet to Job Site</span></div>\"\r\n          + \"</div>\"\r\n          + \"</div> <hr/>\"\r\n          + \"<div class='popModalFooter'><div class='row'>\"\r\n          + \"<div class='col col-md-4'><i class='fa fa-commenting'></i><span class='sms' title='Click to send SMS' >SMS</p></div>\"\r\n          + \"<div class='col col-md-4'><i class='fa fa-envelope' aria-hidden='true'></i><span class='email' title='Click to send email' >Email</p></div>\"\r\n          + \"<div class='col col-md-4'><i class='fa fa-eye' aria-hidden='true'></i><span class='watchlist' title='Click to add in watchlist' >Watch</p></div>\"\r\n          + \"</div> </div>\"\r\n          + \"</div>\";\r\n\r\n      } else {\r\n        infoboxData = \"<div class='row' style='padding-top:10px;margin: 0px;'>\"\r\n          + \"<div class='col-md-3'><div style='padding-top:15px;' ><img src='\" + data.iconInfo + \"' style='display: block;margin: 0 auto;' ></div></div>\" +\r\n          \"<div class='col-md-9'>\" +\r\n          \"<div class='row '>\" +\r\n          \"<div class='col-md-8' style='padding-left:0px;padding-right:0px;' ><span style='font-weight:bold;'>Vehicle Number</span>&nbsp;:&nbsp;\" + data.sbcVin + \"</div>\" +\r\n          \"<div class='col-md-4' style='padding-left:0px;padding-right:0px;' ><a class='details' style='color:#009FDB;cursor: pointer;'  title='Click here to see technician details' >View Details</a><i class='fa fa-times' style='padding-left:15px;cursor: pointer;' aria-hidden='true' style='cursor: pointer'></i></div>\" +\r\n          \"</div>\" +\r\n          \"<div class='row'><div><span style='font-weight:bold;'>VTS Unit ID</span>&nbsp;:&nbsp;\" + data.truckId + \"</div></div>\" +\r\n          \"<div class='row'><div class='col-md-5' style='padding-left:0px;padding-right:0px;' ><span style='font-weight:bold;'>Job Type</span>&nbsp;:&nbsp;\" + data.jobType + \"</div><div class='col-md-7' style='padding-left:0px;padding-right:0px;' ><span style='font-weight:bold;' >Job Id</span>&nbsp;:&nbsp;\" + jobId + \"</div></div>\"\r\n          + reason + \"</div></div>\"\r\n          + \"<div class='infoRow' style='padding-left:5px;padding-right:5px;'><span style='font-weight:bold;'>ATTUID</span>&nbsp;:&nbsp;\" + data.ATTUID + \"<span style='font-weight:bold;margin-left:8px;'>Technician Name</span>&nbsp;:&nbsp;\" + data.technicianName + \"</div>\"\r\n          + \"<div class='infoRow' style='padding-left:5px;padding-right:5px;' >\"\r\n          + \"<div><span style='font-weight:bold;'>Customer Name</span>&nbsp;:&nbsp;\" + data.customerName + \"</div>\"\r\n          + \"</div>\"\r\n          + \"<div class='infoRow' style='padding-left:5px;padding-right:5px;' >\"\r\n          + \"<div><span style='font-weight:bold;'>Dispatch Time</span>&nbsp;:&nbsp;\" + data.dispatchTime + \"</div>\"\r\n          + \"</div>\"\r\n          + \"<div class='infoRow' style='padding-left:5px;padding-right:5px;' >\"\r\n          + \"<div><span style='font-weight:bold;'>Job Address</span>&nbsp;:&nbsp;\" + data.workAddress + \"</div>\"\r\n          + \"</div>\"\r\n          + \"<hr style='margin-top:1px; margin-bottom:5px;' />\"\r\n\r\n          + \"<div style='margin-left: 10px;'> <div class='row'> <div class='speed col-md-3'> <div class='row' style='margin-left: 1px'><p style='font-weight: bolder;font-size: 23px;margin: 0px;'>\" + data.Speed + \"</p><p style='margin: 10px 10px;'>mph</p></div><p style='margin:0px' class='infoBox-bottom1'>Speed</p></div>\"\r\n          + \"<div class='idle col-md-5'><div class='row' style='margin-left: 10px'><p style='font-weight: bolder;font-size: 23px;margin: 0px;'>\" + data.ETA + \"</p><p style='margin: 10px 10px;'>Mins</p></div><p style='margin:0px' class='infoBox-bottom1'>Cumulative Idle Minutes</p></div> <div class='miles col-md-4'>\"\r\n          + \"<div class='row' style='margin-left: 10px'><p style='font-weight: bolder;font-size: 23px;margin: 0px;'>\" + that.convertMilesToFeet(data.Distance) + \"</p><p style='margin: 10px 10px;'>Ft</p></div><p style='margin:0px' class='infoBox-bottom1'>Feet to Job Site</p></div>\"\r\n          + \"</div></div><hr style='margin-top:1px; margin-bottom:5px;' />\"\r\n          + \"<div class='row' style='cursor: pointer'> <div class='col-md-1'></div><div class='row col-md-3' style='\" + className + \"'> <i class='fa fa-commenting col-md-2'></i><p class='col-md-6 sms' title='Click to send SMS' >SMS</p></div>\"\r\n          + \"<div class='row col-md-3 offset-md-1' style='\" + className + \"'> <i class='fa fa-envelope col-md-2' aria-hidden='true'></i><p class='col-md-6 email' title='Click to send email' >Email</p></div>\"\r\n          + \"<div class='row col-md-3'></div>\"\r\n          + \"<div class='row col-md-3' style='\" + styleLeft + \"'><i class='fa fa-eye col-md-2' aria-hidden='true'></i><p class='col-md-6 watchlist' title='Click to add in watchlist' >Watch</p></div> </div>\";\r\n      }\r\n\r\n      return infoboxData;\r\n    }\r\n\r\n    function viewTruckDetails(e) {\r\n      if (e.originalEvent.target.className === 'fa fa-times') {\r\n        that.infobox.setOptions({\r\n          visible: false\r\n        });\r\n      }\r\n      if (e.originalEvent.target.className === 'details') {\r\n        //that.router.navigate(['/technician-details']);\r\n      }\r\n\r\n      if (e.originalEvent.target.className === 'col-md-6 sms') {\r\n        let selectedTruck: any;\r\n        selectedTruck = that.mapService.retrieveDataFromSessionStorage('selectedTruck');\r\n\r\n        if (selectedTruck != null) {\r\n          const technicianDetails = that.reportingTechnicianDetails.find(\r\n            x => x.attuid.toLowerCase() == selectedTruck.ATTUID.toLowerCase());\r\n\r\n          if (technicianDetails != null) {\r\n            this.technicianEmail = technicianDetails.email;\r\n            this.technicianPhone = technicianDetails.phone;\r\n            this.technicianName = technicianDetails.name;\r\n          }\r\n        }\r\n        jQuery('#myModalSMS').modal('show');\r\n      }\r\n\r\n      if (e.originalEvent.target.className === 'col-md-6 email') {\r\n        let selectedTruck: any;\r\n        selectedTruck = that.mapService.retrieveDataFromSessionStorage('selectedTruck');\r\n\r\n        if (selectedTruck != null) {\r\n          const technicianDetails = that.reportingTechnicianDetails.find(\r\n            x => x.attuid.toLowerCase() == selectedTruck.ATTUID.toLowerCase());\r\n\r\n          if (technicianDetails != null) {\r\n            this.technicianEmail = technicianDetails.email;\r\n            this.technicianPhone = technicianDetails.phone;\r\n            this.technicianName = technicianDetails.name;\r\n          }\r\n        }\r\n        jQuery('#myModalEmail').modal('show');\r\n      }\r\n\r\n    }\r\n  }\r\n\r\n  loadDirections(that, startLoc, endLoc, index, truckUrl, truckIdRanId) {\r\n    Microsoft.Maps.loadModule('Microsoft.Maps.Directions', () => {\r\n      this.directionsManager = new Microsoft.Maps.Directions.DirectionsManager(that.map);\r\n      // Set Route Mode to driving\r\n      this.directionsManager.setRequestOptions({\r\n        routeMode: Microsoft.Maps.Directions.RouteMode.driving\r\n      });\r\n      this.directionsManager.setRenderOptions({\r\n        drivingPolylineOptions: {\r\n          strokeColor: 'green',\r\n          strokeThickness: 3,\r\n          visible: false\r\n        },\r\n        waypointPushpinOptions: { visible: false },\r\n        viapointPushpinOptions: { visible: false },\r\n        autoUpdateMapView: false\r\n      });\r\n\r\n      const waypoint1 = new Microsoft.Maps.Directions.Waypoint({\r\n        location: new Microsoft.Maps.Location(startLoc.latitude, startLoc.longitude), icon: ''\r\n      });\r\n      const waypoint2 = new Microsoft.Maps.Directions.Waypoint({\r\n        location: new Microsoft.Maps.Location(endLoc.latitude, endLoc.longitude)\r\n      });\r\n      this.directionsManager.addWaypoint(waypoint1);\r\n      this.directionsManager.addWaypoint(waypoint2);\r\n\r\n      // Add event handler to directions manager.\r\n      Microsoft.Maps.Events.addHandler(this.directionsManager, 'directionsUpdated', function (e) {\r\n        // const that = this;\r\n        console.log(e);\r\n        var routeIndex = e.route[0].routeLegs[0].originalRouteIndex;\r\n        var nextIndex = routeIndex;\r\n        if (e.route[0].routePath.length > routeIndex) {\r\n          nextIndex = routeIndex + 1;\r\n        }\r\n        var nextLocation = e.route[0].routePath[nextIndex];\r\n        var pin = that.map.entities.get(index);\r\n        // var bearing = that.calculateBearing(startLoc,nextLocation);\r\n        that.MovePinOnDirection(that, e.route[0].routePath, pin, truckUrl, truckIdRanId);\r\n      });\r\n\r\n      this.directionsManager.calculateDirections();\r\n    });\r\n  }\r\n\r\n  MovePinOnDirection(that, routePath, pin, truckUrl, truckIdRanId) {\r\n    that = this;\r\n    var isGeodesic = false;\r\n    that.currentAnimation = new Bing.Maps.Animations.PathAnimation(routePath, function (coord, idx, frameIdx, rotationAngle, locations, truckIdRanId) {\r\n\r\n      if (that.animationTruckList.length > 0 && that.animationTruckList.some(x => x == truckIdRanId)) {\r\n        var index = (frameIdx == locations.length - 1) ? frameIdx : frameIdx + 1;\r\n        var rotationAngle = that.calculateBearing(coord, locations[index]);\r\n        if (that.isOdd(frameIdx)) {\r\n          that.createRotatedImagePushpin(pin, truckUrl, rotationAngle);\r\n        }\r\n        else if (frameIdx == locations.length - 1) {\r\n          that.createRotatedImagePushpin(pin, truckUrl, rotationAngle);\r\n        }\r\n        pin.setLocation(coord);\r\n      }\r\n\r\n    }, isGeodesic, that.travalDuration, truckIdRanId);\r\n\r\n    that.currentAnimation.play();\r\n  }\r\n\r\n  CalculateNextCoord(startLocation, endLocation) {\r\n    try {\r\n\r\n      var dlat = (endLocation.latitude - startLocation.latitude);\r\n      var dlon = (endLocation.longitude - startLocation.longitude);\r\n      var alpha = Math.atan2(dlat * Math.PI / 180, dlon * Math.PI / 180);\r\n      var dx = 0.00015238794727909931;\r\n      dlat = dx * Math.sin(alpha);\r\n      dlon = dx * Math.cos(alpha);\r\n      var nextCoord = new Microsoft.Maps.Location(startLocation.latitude + dlat, startLocation.longitude + dlon);\r\n\r\n      dlat = null;\r\n      dlon = null;\r\n      alpha = null;\r\n      dx = null;\r\n\r\n      return nextCoord;\r\n    } catch (error) {\r\n      console.log('Error in CalculateNextCoord - ' + error);\r\n    }\r\n  }\r\n\r\n  isOdd(num) {\r\n    return num % 2;\r\n  }\r\n\r\n  degToRad(x) {\r\n    return x * Math.PI / 180;\r\n  }\r\n\r\n  radToDeg(x) {\r\n    return x * 180 / Math.PI;\r\n  }\r\n\r\n  calculateBearing(origin, dest) {\r\n    /// <summary>Calculates the bearing between two loacations.</summary>\r\n    /// <param name=\"origin\" type=\"Microsoft.Maps.Location\">Initial location.</param>\r\n    /// <param name=\"dest\" type=\"Microsoft.Maps.Location\">Second location.</param>\r\n    try {\r\n      var lat1 = this.degToRad(origin.latitude);\r\n      var lon1 = origin.longitude;\r\n      var lat2 = this.degToRad(dest.latitude);\r\n      var lon2 = dest.longitude;\r\n      var dLon = this.degToRad(lon2 - lon1);\r\n      var y = Math.sin(dLon) * Math.cos(lat2);\r\n      var x = Math.cos(lat1) * Math.sin(lat2) - Math.sin(lat1) * Math.cos(lat2) * Math.cos(dLon);\r\n\r\n      lat1 = lat2 = lon1 = lon2 = dLon = null;\r\n\r\n      return (this.radToDeg(Math.atan2(y, x)) + 360) % 360;\r\n    } catch (error) {\r\n      console.log('Error in calculateBearing - ' + error);\r\n    }\r\n  }\r\n\r\n  SendSMS(form) {\r\n    // if(this.technicianPhone != ''){\r\n    if (form.value.mobileNo != '') {\r\n      if (confirm('Are you sure want to send SMS?')) {\r\n        // this.mapService.sendSMS(this.technicianPhone,form.value.smsMessage);\r\n        this.mapService.sendSMS(form.value.mobileNo, form.value.smsMessage);\r\n\r\n        form.controls.smsMessage.reset()\r\n        form.value.mobileNo = this.technicianPhone;\r\n        jQuery('#myModalSMS').modal('hide');\r\n        //this.toastr.success('SMS sent successfully', 'Success');\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  SendEmail(form) {\r\n    // if(this.technicianEmail != ''){\r\n    if (form.value.emailId != '') {\r\n      if (confirm('Are you sure want to send Email?')) {\r\n\r\n        // this.userProfileService.getUserData(this.cookieATTUID)\r\n        //   .subscribe((data) => {\r\n        //     var newData: any = this.stringifyJson(data);\r\n        //     //this.mapService.sendEmail(newData.email,this.technicianEmail,newData.lastName + ' ' + newData.firstName, this.technicianName, form.value.emailSubject,form.value.emailMessage);\r\n        //     this.mapService.sendEmail(newData.email, form.value.emailId, newData.lastName + ' ' + newData.firstName, this.technicianName, form.value.emailSubject, form.value.emailMessage);\r\n        //     this.toastr.success(\"Email sent successfully\", 'Success');\r\n\r\n        //     form.controls.emailSubject.reset()\r\n        //     form.controls.emailMessage.reset()\r\n        //     form.value.emailId = this.technicianEmail;\r\n        //     jQuery('#myModalEmail').modal('hide');\r\n        //   });\r\n      }\r\n    }\r\n  }\r\n\r\n  SearchTruck(form) {\r\n    const that = this;\r\n\r\n    //$('#loading').show();\r\n\r\n    if (form.value.inputmiles != '' && form.value.inputmiles != null) {\r\n      const lt = that.clickedLat;\r\n      const lg = that.clickedLong;\r\n      const rd = form.value.inputmiles;\r\n\r\n      this.foundTruck = false;\r\n      this.animationTruckList = [];\r\n\r\n      if (this.connection !== undefined) {\r\n        this.connection.unsubscribe();\r\n      }\r\n\r\n      this.loadMapView('road');\r\n\r\n      that.LoadTrucks(this.map, lt, lg, rd, true);\r\n\r\n      form.controls.inputmiles.reset();\r\n      jQuery('#myRadiusModal').modal('hide');\r\n      setTimeout(() => {\r\n        //$('#loading').hide();\r\n      }, 10000);\r\n    }\r\n  }\r\n\r\n\r\n\r\n  getMiles(i) {\r\n    return i * 0.000621371192;\r\n  }\r\n\r\n  getMeters(i) {\r\n    return i * 1609.344;\r\n  }\r\n\r\n  stringifyJson(data) {\r\n    return JSON.stringify(data);\r\n  }\r\n  parseToJson(data) {\r\n    return JSON.parse(data);\r\n  }\r\n\r\n  Round(number, precision) {\r\n    var factor = Math.pow(10, precision);\r\n    var tempNumber = number * factor;\r\n    var roundedTempNumber = Math.round(tempNumber);\r\n    return roundedTempNumber / factor;\r\n  }\r\n\r\n  getAtan2(y, x) {\r\n    return Math.atan2(y, x);\r\n  };\r\n\r\n  getIconUrl(color: string, sourceLat: number, sourceLong: number, destinationLat: number, destinationLong: number) {\r\n    var iconUrl = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABHNCSVQICAgIfAhkiAAAA3ZJREFUaIHtl11IU2EYx/9vuVqQaxeB6wv0KscIF4G0bpoaZnWzhVpdVEp1ERrmpChvMgjrIhT6oKBZ6EXUAueNaFH0QTSxyAWVXRQuP1Avsu3M5nHani7clunZx9lmCL6/q3PO8/Kc//95vwEOh8PhcDgcDoezVGGpSEJEagBVqcglgYsx1hwpmJZsdiJSByjwYcz3c+2wZ8SfbL65bFmvUxORkTFWLhWX3QPBau8EoA9+0k9Mifu2Xd2pEEQhCanSWPIqYTFWAEAWY8w1Ny6rB4ioajrw+1LasuWr+370j49PeqczVBlK19h3thDiAcDh6gZQAQCZABI3QET3AJRde3UbVkcLBFFYDcxUaEdmborkyicuAyHxlrZa2HrsCyxJHstiNVjM4oEYBha7eCCKASIyYpGLB6LMgclp/5nX395M2Xrsiv8pSC4RDaxMW7G3vfdJXEnSlekpEzSXNUpV1HjUVWjAPRTzB4LohU6TjRK9Ka72cinOMYUenVLxpI8Sth47SvUmNJovJ5sqGtWMMbdUIGkDgiig8JYZhqzUb2alejNK9CYgQvWBJAzoNFp8GukNvzv6uhNNNS9XCEMcO7wsAyqlCg2mehRpC8LfGp7fQMOLm3LShDm2/Qhq8iqhCi4CDlc3LPZaWXNJloGmQ9exSb0Rxx+cgkcUoNNoUWOswJpVKlzokDcHjhuOoq7oHJq6WtD55RkAoMZYCVt5M3bf2o94D4cRDYjT4qhOo80IDY0i7S4YMnNhaNwVrpCjrxuD7iFYD16H1dEiq3IWYwUeOdv+MV7cdwRd1c9QutUMq6MZOet0UwAUkDiFxjSgTFPePptfVeuZ8CgG3EMo3JyPLtfbeSI7e58CAAqzCyTHsRQ6jRYqZTpszvk7vM1px+7sfBARCjYbFQBeSt0DYhpgjNURkbrRfDl8VRzxjvoBrJjdThXcaC7uOR+X+NlIbVKb1BtmenpmAr8EYJrXaLbOeH5ERHrMXCjsdZ1XYHX8vaI2mOpRutUMAGYAkmu1FOOTvgOD7sET++8eXh4a7zqNFo9PtoaFR1r7E4aIyoiIPg730p03zdT/c5CClCWQSy2I3q/ChBB4+L6VOj4/JSKiQCDgCRZsYSAiozg12f7j15jT55+4Hzy1JppLTUSnPaL3nc/v6yKiuuCdm8PhcDicpcEfk3eALbc1+VQAAAAASUVORK5CYII=\";\r\n\r\n    if (color.toLowerCase() == \"green\") {\r\n      iconUrl = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABHNCSVQICAgIfAhkiAAAA3ZJREFUaIHtl11IU2EYx/9vuVqQaxeB6wv0KscIF4G0bpoaZnWzhVpdVEp1ERrmpChvMgjrIhT6oKBZ6EXUAueNaFH0QTSxyAWVXRQuP1Avsu3M5nHani7clunZx9lmCL6/q3PO8/Kc//95vwEOh8PhcDgcDoezVGGpSEJEagBVqcglgYsx1hwpmJZsdiJSByjwYcz3c+2wZ8SfbL65bFmvUxORkTFWLhWX3QPBau8EoA9+0k9Mifu2Xd2pEEQhCanSWPIqYTFWAEAWY8w1Ny6rB4ioajrw+1LasuWr+370j49PeqczVBlK19h3thDiAcDh6gZQAQCZABI3QET3AJRde3UbVkcLBFFYDcxUaEdmborkyicuAyHxlrZa2HrsCyxJHstiNVjM4oEYBha7eCCKASIyYpGLB6LMgclp/5nX395M2Xrsiv8pSC4RDaxMW7G3vfdJXEnSlekpEzSXNUpV1HjUVWjAPRTzB4LohU6TjRK9Ka72cinOMYUenVLxpI8Sth47SvUmNJovJ5sqGtWMMbdUIGkDgiig8JYZhqzUb2alejNK9CYgQvWBJAzoNFp8GukNvzv6uhNNNS9XCEMcO7wsAyqlCg2mehRpC8LfGp7fQMOLm3LShDm2/Qhq8iqhCi4CDlc3LPZaWXNJloGmQ9exSb0Rxx+cgkcUoNNoUWOswJpVKlzokDcHjhuOoq7oHJq6WtD55RkAoMZYCVt5M3bf2o94D4cRDYjT4qhOo80IDY0i7S4YMnNhaNwVrpCjrxuD7iFYD16H1dEiq3IWYwUeOdv+MV7cdwRd1c9QutUMq6MZOet0UwAUkDiFxjSgTFPePptfVeuZ8CgG3EMo3JyPLtfbeSI7e58CAAqzCyTHsRQ6jRYqZTpszvk7vM1px+7sfBARCjYbFQBeSt0DYhpgjNURkbrRfDl8VRzxjvoBrJjdThXcaC7uOR+X+NlIbVKb1BtmenpmAr8EYJrXaLbOeH5ERHrMXCjsdZ1XYHX8vaI2mOpRutUMAGYAkmu1FOOTvgOD7sET++8eXh4a7zqNFo9PtoaFR1r7E4aIyoiIPg730p03zdT/c5CClCWQSy2I3q/ChBB4+L6VOj4/JSKiQCDgCRZsYSAiozg12f7j15jT55+4Hzy1JppLTUSnPaL3nc/v6yKiuuCdm8PhcDicpcEfk3eALbc1+VQAAAAASUVORK5CYII=\";\r\n    } else if (color.toLowerCase() == \"red\") {\r\n      iconUrl = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABHNCSVQICAgIfAhkiAAAA0xJREFUaIHtlz1sEmEcxp9XhBQDhRA/MCSNTUy8tEsXXEsgcdABqoOTpA4ukKAOxsYuDkJ0rdHo1JQmbgYcXPxKnDTgUAdtmzSxIUCKRCweoQV693eAu2h7BQ5a08T3Nx33P557nvfr3hfgcDgcDofD4XA4/ytsL0SIyA7g+l5oabDKGJvbrXi4X3UiskOWP2/9/Hm0XijU+9XbzpGRETsReRhjV7Xqunug1drjAMZat8bkzc0LXzweoySKfVjVxhkOwxkKAcAwY2x1e11XDxDRdZKke8xgsNQymYpUqWyZjh8fqGUybD/MA0AlnVYuTwHoPQARzQKYLDx9imI8DkkULUCzhSxu91547YmuAijmM9PTKCWT+2xJH4c6PXCQzQMdAhx080CbAETkwQE3D7SZA1Sv3xI/fGiUkknjvzSkl10DMJPp/PqrV12JGKzWPTOkV7vtKlTP5zu+QBJFmAUBDr+/q+f14vD7lcsFrXrfW4lSIgFHIIChWKxfqXbcZIytaxX6DiCJIpYvXoTl7Nl+pXbgCASUHtBsfaCPAGZBwMbSkvq7kkr1KrVDS6GbL7yuAAarFUPRKGw+n3pv7dEjrD1+rEdG5diVK3CGw+pEraTTyExPo57Lda2hK8Dww4cwuVz4Fomok9cZCsEwOIjc/fv6zAeDcN2+jeL8PMrv3gEAnKEQTs/OYvnSJXS7Odw1gLy5WTALwgllaNh8Pljcbnw9d05toUoqhXouh+GZGRTn53W1nDMUQunFi7+Cr6RSGHn9Go6JCRTjcRwZHW0AMEJjF9oxwKGBgScnI5E7UrlsrOfzsHm9qKTTO0yW375tBvR6NcexFmZBgMFq1fzCl5JJ2LxegAiD4+NGAO+1zgEdAzDG7hKRfSgWU4+KjeaJy/Tnc8r4dU1NdWVe679/YnK5YHG7lQn8HkCgnUZXJzIiGkPzQJHIPXiAYjyu1oaiUTgCAQCYAKC5VmshV6uXa9nstZVg0KCMd7Mg4Mzz56rx3db+niGiSSKi6uIifZ+bo1o2Sy0me9CyS6K4svXrl/wjkaD1N2+aSrJcbjXY/kBEHrlWe9kolRakjY1nrV1rr1p2IrohieKnrWr1IxHdbZ25ORwOh8P5P/gNqhx/6rsujjgAAAAASUVORK5CYII=\";\r\n    } else if (color.toLowerCase() == \"yellow\") {\r\n      iconUrl = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABHNCSVQICAgIfAhkiAAAAyhJREFUaIHtlz1MU1EYht/vYhWNaZtghAGNmICJVmFwMCFRHEwEE8VJnMRBnRQdygAODrroYCILuBgWYdPEyGRixBQcHCD+DKhAWiM41HgJlJ/bnteht/Wntz+3BUPCeabe+528fb/vnHvOdwCNRqPRaDQajUazUZHVECHpB9CxGloOTItIf7bgplLVSfpBNQ7rxw4sflspVS8D3yE/ySYRuegUdj0DdrWPAWiwXzUgsXgq8eKgB5ZZglNnpK4TRl0QAGpEZPrfuKsZINkBxm9DNm1HbHIe1nwc5VXlXJiUtTAPAIiGAAQBYA+A4hMg+QhAu/p0H5zqAyxzO5CskFQ0rpJb9xSUQMo8x6+BkYE1tuQOI9+AP82rdWYeyJPAejcP5EiAZBPWuXkg1zeQWA4yOmypyIDnP/pxTfYEyra0YOZZYSoe7yrZcdL25Qzn3IUYC+fVl7gJ8QYgu9qAAsa7RarPpX6OOcVLbiVUZBBG9XkY9T2lSuXihoj8dAqUnAAsE2q4aU0OM6luS85sluoDJSQg3gA49z79zGioWKkMrTQVjXmbNXcJeHww6h9AqlrSrzhxF2riniuZFEbNZUhdZ/pDZTQEjl8r6NtL4SoB43A/ZNtuqLcXAMuE+AKQ2k6Ixw9+6HZnfu8VyP7bUFMPgdkhAHbneeQpEq+Po9DmMPtJnFj6Lr5A+lGqWiAVjVCjreDsEBgNQU32QY1fTVZy225XCUhtEIwMgh+6k5WPhqBGzwACGMl1D/E3WPbwjC40RY5zoLxX9nV1iWV6EAtDKpvB6EjG9DJVvcqTgNM6djLvDQAeH/h1MCOmIoOQymYYJGTnCQ+AV073gLwJiMgtkn6jvuf3VXFpZgXA5r8G2utXDtxxfztyOKRk667kjpbc1V4BaM0lUdB/kmxA8kLxhB9vQk32pWNGfU9qqzsLwHGvdiQxf46x8CU1crostd7FG4Bx9GXaeLa9v2hItpOkMt8x8aWXXAjTpr0ILT9X5j7TMpUKD1DNPLellGkXbG0g2cT40nMuR8cYjz22u9Zitfwkr3PFfMv4whuSt+w7t0aj0Wg0G4NfTixkfFxyXPEAAAAASUVORK5CYII=\"\r\n    } else if (color.toLowerCase() == \"purple\") {\r\n      iconUrl = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAF62lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAxOC0wMy0wM1QxMTo0MDozNy0wNTowMCIgeG1wOk1vZGlmeURhdGU9IjIwMTgtMDMtMDNUMTE6NTM6MjUtMDU6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMTgtMDMtMDNUMTE6NTM6MjUtMDU6MDAiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiBwaG90b3Nob3A6SUNDUHJvZmlsZT0ic1JHQiBJRUM2MTk2Ni0yLjEiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6YTlhYTYxZGYtY2VhNC0wYzQyLThhZTAtZjY1ZTdhNWIwMjBhIiB4bXBNTTpEb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6MTI4NmYzZGUtZDdjNS1kZTRmLTg5NGYtMWYzODk2YmM5ZjFkIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6YTdkNDRmN2EtMjJlYy1hODQ0LTlmOWItMTA3YjFhNWY2OTcyIj4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDphN2Q0NGY3YS0yMmVjLWE4NDQtOWY5Yi0xMDdiMWE1ZjY5NzIiIHN0RXZ0OndoZW49IjIwMTgtMDMtMDNUMTE6NDA6MzctMDU6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cykiLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOmE5YWE2MWRmLWNlYTQtMGM0Mi04YWUwLWY2NWU3YTViMDIwYSIgc3RFdnQ6d2hlbj0iMjAxOC0wMy0wM1QxMTo1MzoyNS0wNTowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6RQ2cXAAACS0lEQVRo3u2YvUoDQRDH8wh5BN9AH8DC2kYrWwXt1V7RWhu7lIKKWCkqNoKooKBEJSDED0wRjSSScGLiJWZzd+v+z9uwhHxe9uCEGRhCNnez85udnZ1NhHMe+c8aIQACIAACIAACIAACIAACIADtAL2IeD4qdCkgnVTm0Q8A5x2bp8sFZhaS35+6lf/JujYAL9pjSoT2ahWb7Qzf8o3Ba+2aiGU8Bj7QN4AYn7UtpwRrxddKCREq51nl465YC8J56PHMgwQY6QsAywgriIgabXzPxr94qAGk85eLqaZLHGqAds6HHqCT86EG8F5o63yoAeyqc/R2/sm6KXNhXYGO0ZcAxqMZGMDp/LN/ANB3miC+mnatXyyk+PH0g3Z9PTEkQDQQAJwJxpPJA5a5nluJbgHUXNWtqYN8PX20AxxO3GvL81a2lD5IDwDSRclJLlsLv47HV9K8WqzVbaGa7Y4mggPABKX3H7cy4DdsYDiQ3Mr27ry3+fGuTBnXfuan3mv1BSBa5BwmaSxnaoTajXdSgCPHG8cRIDkvziHZSvtZgeVa2WayPL7s51seWBCkQ7elEc+22mPyYJTPCDnzfSMTn2tqvpu5arVZGfUrWL1Ge0rlcZ1H/e/7Sim+DwkddyOtpBUUK+PJuHdadqXMtGLGs2mpdwtUo2aOa7sTi/EpWEfrkNzMuhvOk6lIjwIHWcl6EXvBQRDq1c3hXwhYi3e03IlH0OhVDJYQG31bVgg/4rUHcwLkhpWtK+y7ZpH3BUB/bBEAARAAARDAf9BfRb64KYflRLAAAAAASUVORK5CYII=\"\r\n    }\r\n\r\n    return iconUrl;\r\n  }\r\n\r\n  locatepushpin(obj) {\r\n    const truckId = obj.truckId;\r\n\r\n    // Loop through all the pins in the data layer and find the pushpin for the location. \r\n    let searchPin;\r\n    for (let i = 0; i < this.dataLayer.getLength(); i++) {\r\n      searchPin = this.dataLayer.get(i);\r\n      if (searchPin.metadata.truckId.toLowerCase() !== truckId.toLowerCase()) {\r\n        searchPin = null;\r\n      } else {\r\n        break;\r\n      }\r\n    }\r\n\r\n    // If a pin is found with a matching ID, then center the map on it and show it's infobox.\r\n    if (searchPin) {\r\n      // Offset the centering to account for the infobox.\r\n      this.map.setView({ center: searchPin.getLocation(), zoom: 17 });\r\n      // this.displayInfoBox(searchPin, obj);\r\n    }\r\n  }\r\n\r\n  createRotatedImagePushpin(location, url, rotationAngle, callback) {\r\n    var img = new Image();\r\n    img.onload = function () {\r\n      var c = document.createElement('canvas');\r\n\r\n      var rotationAngleRads = rotationAngle * Math.PI / 180;\r\n      c.width = 50;\r\n      c.height = 50;\r\n      // Calculate rotated image size.\r\n      // c.width = Math.abs(Math.ceil(img.width * Math.cos(rotationAngleRads) + img.height * Math.sin(rotationAngleRads)));\r\n      // c.height = Math.abs(Math.ceil(img.width * Math.sin(rotationAngleRads) + img.height * Math.cos(rotationAngleRads)));\r\n\r\n      var context = c.getContext('2d');\r\n\r\n      // Move to the center of the canvas.\r\n      context.translate(c.width / 2, c.height / 2);\r\n\r\n      // Rotate the canvas to the specified angle in degrees.\r\n      context.rotate(rotationAngleRads);\r\n\r\n      // Draw the image, since the context is rotated, the image will be rotated also.\r\n      context.drawImage(img, -img.width / 2, -img.height / 2);\r\n      // anchor: new Microsoft.Maps.Point(24, 6)\r\n      if (!isNaN(rotationAngleRads) && rotationAngleRads > 0) {\r\n        location.setOptions({ icon: c.toDataURL(), anchor: new Microsoft.Maps.Point(c.width / 2, c.height / 2) });\r\n      }\r\n\r\n      // return c;\r\n    };\r\n\r\n    // Allow cross domain image editting.\r\n    img.crossOrigin = 'anonymous';\r\n    img.src = url;\r\n  }\r\n\r\n  getThresholdValue() {\r\n\r\n    this.mapService.getRules(this.techType)\r\n      .subscribe(\r\n      (data) => {\r\n        var obj = JSON.parse((this.stringifyBodyJson(data)).data);\r\n        if (obj != null) {\r\n          var idleTime = obj.filter(element => {\r\n            if (element.fieldName === 'Cumulative idle time for RED' && element.dispatchType === this.techType) {\r\n              return element.value;\r\n            }\r\n          });\r\n\r\n          if (idleTime != undefined && idleTime.length > 0) {\r\n            this.thresholdValue = idleTime[0].value;\r\n          }\r\n        }\r\n      },\r\n      (err) => {\r\n        console.log(err);\r\n      }\r\n      );\r\n  }\r\n\r\n  stringifyBodyJson(data) {\r\n    return JSON.parse(data['_body']);\r\n  }\r\n\r\n  UTCToTimeZone(recordDatetime) {\r\n    var recordTime;\r\n    var recorddTime = momenttimezone.utc(recordDatetime);\r\n    // var recorddTime = momenttimezone.tz(recordDatetime, \"America/Chicago\");\r\n\r\n    if (this.loggedInUserTimeZone == 'CST') {\r\n      recordTime = recorddTime.tz('America/Chicago').format('MM-DD-YYYY HH:mm:ss')\r\n    } else if (this.loggedInUserTimeZone == 'EST') {\r\n      recordTime = recorddTime.tz('America/New_York').format('MM-DD-YYYY HH:mm:ss')\r\n    } else if (this.loggedInUserTimeZone == 'PST') {\r\n      recordTime = recorddTime.tz('America/Los_Angeles').format('MM-DD-YYYY HH:mm:ss')\r\n    } else if (this.loggedInUserTimeZone == 'Alaska') {\r\n      recordTime = recorddTime.tz('US/Alaska').format('MM-DD-YYYY HH:mm:ss')\r\n    }\r\n\r\n    return recordTime;\r\n  }\r\n\r\n  UpdatepinClicked(that, parms: any, lauchTicketCard: number) {\r\n    //console.log('emit',that);\r\n    var selectedTicket = {\r\n      \"SelectedTicket\": {\r\n        \"TicketNumber\": parms.TicketNumber,\r\n        \"LaunchTicketCard\": lauchTicketCard\r\n      }\r\n    }\r\n    console.log('Selected Ticket: ' + parms.TicketNumber + 'launchTicket: ' + lauchTicketCard);\r\n    that.ticketClick.emit(selectedTicket);\r\n  }\r\n\r\n  UpdateTicketDirections(that, map, dirManager,infoBoxMetaData: any, endLat, endLong, loadbtnClick) {\r\n    Microsoft.Maps.loadModule('Microsoft.Maps.Directions', () => {\r\n      var mapZoomLevel: number = 10;\r\n      dirManager = new Microsoft.Maps.Directions.DirectionsManager(map);\r\n      dirManager.clearAll();\r\n      map.layers.clear();\r\n      // Set Route Mode to driving\r\n      dirManager.setRequestOptions({\r\n        routeMode: Microsoft.Maps.Directions.RouteMode.driving,\r\n        routeDraggable: true\r\n      });\r\n\r\n      dirManager.setRenderOptions({\r\n        drivingPolylineOptions: {\r\n          strokeColor: Microsoft.Maps.Color.fromHex('#009fdb'),\r\n          strokeThickness: 5\r\n        },\r\n        firstWaypointPushpinOptions: { visible: false, text: '', },//icon: 'data:image/png;base64,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'\r\n        lastWaypointPushpinOptions: {\r\n          visible: true, text: '',\r\n          icon: 'data:image/png;base64,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'\r\n        },\r\n        viapointPushpinOptions: {\r\n          visible: false,\r\n        },\r\n        waypointPushpinOptions: { visible: false },\r\n        autoUpdateMapView: true,\r\n        displayRouteSelector: false\r\n        //itineraryContainer: '#directionsItinerary'\r\n      });\r\n      //dirManager.showInputPanel('directionsPanel');\r\n      \r\n      if (that.currentLatitude != undefined && that.currentLongitude != undefined) {\r\n        const waypoint1 = new Microsoft.Maps.Directions.Waypoint({\r\n          location: new Microsoft.Maps.Location(that.currentLatitude, that.currentLongitude)\r\n        });\r\n        dirManager.addWaypoint(waypoint1);\r\n      }\r\n      \r\n      console.log(\"current Latitude: \" + that.currentLatitude + \"current Logitute: \" + that.currentLongitude);\r\n      const waypoint2 = new Microsoft.Maps.Directions.Waypoint({\r\n        location: new Microsoft.Maps.Location(endLat, endLong),\r\n      });\r\n      dirManager.addWaypoint(waypoint2);\r\n      console.log(\"destination Latitude: \" + endLat + \"destination Logitute: \" + endLong);\r\n      $(\"#mdticketLoading\").show();\r\n      if(loadbtnClick == \"1\"){\r\n        if (that.singleView != 'Yes') {\r\n          $(\"#singleviewmodalcontent\").html(that.getTicketModalHTML(infoBoxMetaData, '', '', ''));\r\n          $(\"#mdticketLoading\").show();\r\n          jQuery(\"#ticketmodal\").modal();\r\n          if (that.currentLatitude == undefined && that.currentLongitude == undefined){\r\n              $(\"#mdticketLoading\").hide();\r\n              $(\"#mdticketErrorMessage\").show();\r\n          }\r\n        }\r\n        $(\"#mdticketMap\").hide();\r\n        $(\"#mdticketDistance\").hide();\r\n        $(\"#mdticketFromAddress\").hide();\r\n        $(\"#mdticketToAddress\").hide();\r\n\r\n        $(\"#ticketmodal\").on(\"hidden.bs.modal\", function () {\r\n          if (that.singleView != 'Yes') {\r\n            dirManager.clearAll();\r\n            map.layers.clear();\r\n            map.setView({ center: new Microsoft.Maps.Location(endLat, endLong), mapZoomLevel });\r\n          }\r\n          that.UpdatepinClicked(that,infoBoxMetaData, 2);\r\n        });\r\n        $(\".close\").click(function () {\r\n          if (that.singleView != 'Yes') {\r\n            dirManager.clearAll();\r\n            map.layers.clear();\r\n            map.setView({ center: new Microsoft.Maps.Location(endLat, endLong), mapZoomLevel });\r\n          }\r\n          that.UpdatepinClicked(that,infoBoxMetaData, 2);\r\n        });\r\n        $(\"#tktId\").click(function () {\r\n          that.UpdatepinClicked(that,infoBoxMetaData, 1);\r\n        });\r\n        \r\n        var xflag: number = 0;\r\n        $(\"#moreFormContentBtn\").click(function () {\r\n          // console.log('called click');\r\n          if (xflag == 0) {\r\n            $(\"#initFormContent\").hide();\r\n            $(\"#moreFormContent\").slideToggle(\"slow\");\r\n            $(\"#dummyimage\").attr(\"src\", \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYxIDY0LjE0MDk0OSwgMjAxMC8xMi8wNy0xMDo1NzowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNS4xIFdpbmRvd3MiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OThGOTY5OTJEQzNBMTFFODkwMjA4M0QxMjE3M0YyNTkiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OThGOTY5OTNEQzNBMTFFODkwMjA4M0QxMjE3M0YyNTkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5OEY5Njk5MERDM0ExMUU4OTAyMDgzRDEyMTczRjI1OSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo5OEY5Njk5MURDM0ExMUU4OTAyMDgzRDEyMTczRjI1OSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pv3RHwgAAAF7SURBVHjavJZBZwNBFMcnFc0nKGEoOYWlhHyJsCw95WPsKZR8kiHXsPTQS3ppJd+glFJKLiU99dLqKYTpm/oPz5jdnUmnffyWnZ35/3fe7MzbjmgOSVwSOXFGjND+SLwTt8SN1vpNREafUMSB0C0c0LdPRsLFFxPiiwlUxJQYE10wRlvF+pkxkzaDkg24JrKA2Wboa8eVdQYFS8k8NJdMaM5SVrgGZjE/0EHFLJbztgoaRktyA8XyLY41gKBdF2UNzllqsgQGGUuV0RZXaFiKI6Lm01xC02iLNW5ykSBgkEPzznzTQ7Y7eVwQpxHan8TW0fpJ+R5uPWfAa8Au5qzYDHpo23cb3ugJ501obOse7OAmE66BhObuhC4veDZK8RU5Ws/G4B43U5EurNbGXAZ/uNEG/3JU2EWxNWD2i8NuxmqD9B3XOtbEI659x7Wv4FRslzfF0KlsZVvJLBpKpo26klmE1GS7JouIor+wOXfpRP622Fk8hP62fAswAJeeZaAnWSufAAAAAElFTkSuQmCC\");\r\n            xflag = 1;\r\n          }\r\n          else if (xflag == 1) {\r\n            $(\"#moreFormContent\").hide();\r\n            $(\"#initFormContent\").slideToggle(\"slow\");\r\n            $(\"#dummyimage\").attr(\"src\", \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYxIDY0LjE0MDk0OSwgMjAxMC8xMi8wNy0xMDo1NzowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNS4xIFdpbmRvd3MiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OTI0RjVFNjZEQzNBMTFFOEFEMTI4QUMzODNDRERGQkMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OTI0RjVFNjdEQzNBMTFFOEFEMTI4QUMzODNDRERGQkMiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5MjRGNUU2NERDM0ExMUU4QUQxMjhBQzM4M0NEREZCQyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo5MjRGNUU2NURDM0ExMUU4QUQxMjhBQzM4M0NEREZCQyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PlhOsuYAAAGxSURBVHjatJbBSsNAEIYTLfoEhUIg0FMhIBR69SQIBSHgqdAHEDzl5KngYwiB9loCHrzoSfANBEEICIWi1JMXxVOhEP+VGRjXTbKJceBL02T3/7Oz2Z24TnF44BgcgTbo0/UH8AZuwFWWZa9OxeiAGGxAVsKG2nZg5OiYYgg+hUACRmAAWsSAriWineozLDOIRIdLEFiMNqC23C/KMwhFSia2uRRCE5GyUDdQk/lODeICvX1wIkemPW1MGkrLkwaxyHdRXFC7U5MBCfK8xGzgi9QEDRgEIlX+Fg5jsA3mIHX+GDBJSUtpjpXBId2b1xF0XfcHmtaBeqd7YnXK2AM72rU2/fq0FmR8gIWm9Z3yNeVsV+vwbLGKJdc8J6SlTtatgtE/0n4jw6dRvBjuLfKEVuTmWaT811tkWnikpU5WapKf6F6/5ltj2ntYK1UGt/Rn5DQXrHWnDt1/XGhdNYIlmFH78waenjVmMFzKzY5rwFndOaC+XBs803adVTUxiGem7dpUcBKxyouip1W2qKxkhgUlkyOvZIY2NZnnZFqh6E855zpuxc8WHsW97WfLlwADAEeDUq2DVY8MAAAAAElFTkSuQmCC\");\r\n            xflag = 0;\r\n          }\r\n        });\r\n        if(that.singleview == 'Yes'){\r\n          \r\n        }\r\n      }\r\n      Microsoft.Maps.Events.addHandler(dirManager, 'directionsUpdated', function (e) {\r\n        //that.pathLayer.clear(); \r\n        that.directionUpdated = \"1\";\r\n        console.log('diraction updated');\r\n        var allWayPoints = dirManager.getAllWaypoints();\r\n        var fromAddress = allWayPoints[0].getAddress();\r\n        var toAddress = allWayPoints[1].getAddress();\r\n\r\n        const routeIndex = e.route[0].routeLegs[0].originalRouteIndex;\r\n        const nextLocation = e.route[0].routePath[routeIndex + 1];\r\n\r\n        // Get the current route index.\r\n        const routeIdx = dirManager.getRequestOptions().routeIndex;\r\n        // Get the distance of the route, rounded to 2 decimal places.\r\n        const distance = Math.round(e.routeSummary[routeIdx].distance * 100) / 100;\r\n        // Get the distance units used to calculate the route.\r\n        const units = dirManager.getRequestOptions().distanceUnit;\r\n        let distanceUnits = '';\r\n\r\n        if (units === Microsoft.Maps.Directions.DistanceUnit.km) {\r\n          distanceUnits = 'km';\r\n        } else {\r\n          // Must be in miles\r\n          distanceUnits = 'miles';\r\n        }\r\n\r\n        // Time is in seconds, convert to minutes and round off.\r\n        const time = Math.round(e.routeSummary[routeIdx].timeWithTraffic / 60);\r\n        var distanceData = \"<label style='font-weight:bold; font-size:24px;'>\" + distance + '&nbsp;' + distanceUnits + \", </label>Traffic: \" + time + \" minutes\";\r\n        \r\n        if(fromAddress == undefined){\r\n          that.mapService.getAddressByLatLong(that.currentLatitude, that.currentLongitude)\r\n          .subscribe(\r\n          (data) => {\r\n            var addressDetail = JSON.parse(data['_body']);\r\n            console.log(\"FromAddress: \" + addressDetail);\r\n            if (addressDetail != null && addressDetail.resourceSets.length > 0 && addressDetail.resourceSets[0].resources.length > 0) {\r\n              $(\"#ticketfromaddress\").text(addressDetail.resourceSets[0].resources[0].name);\r\n            }\r\n          },\r\n          (err) => {\r\n            console.log(err);\r\n          });\r\n        }\r\n        if(toAddress == undefined){\r\n          that.mapService.getAddressByLatLong(endLat, endLong)\r\n          .subscribe(\r\n          (data) => {\r\n            var addressDetail = JSON.parse(data['_body']);\r\n            console.log(\"ToAddress: \" + addressDetail);\r\n            if (addressDetail != null && addressDetail.resourceSets.length > 0 && addressDetail.resourceSets[0].resources.length > 0) {\r\n              $(\"#tickettoaddress\").text(addressDetail.resourceSets[0].resources[0].name);\r\n            }\r\n          },\r\n          (err) => {\r\n            console.log(err);\r\n          });\r\n        }\r\n\r\n        $(\"#ticketdistancedata\").html(distanceData);\r\n        $(\"#ticketfromaddress\").text(fromAddress);\r\n        $(\"#tickettoaddress\").text(toAddress);\r\n\r\n        $(\"#mdticketLoading\").hide();\r\n        $(\"#mdticketErrorMessage\").hide();\r\n        $(\"#mdticketMap\").show();\r\n        $(\"#mdticketDistance\").show();\r\n        $(\"#mdticketFromAddress\").show();\r\n        $(\"#mdticketToAddress\").show();\r\n\r\n        if (that.singleView == 'Yes') {\r\n            map.setView({ center: new Microsoft.Maps.Location(endLat, endLong), zoom: 10 });\r\n            $(\"#startButtonLink\").click(function () {\r\n              //we're on iOS, open in Apple Maps\r\n              if ((navigator.platform.indexOf(\"iPhone\") != -1) ||\r\n                  (navigator.platform.indexOf(\"iPad\") != -1) ||\r\n                  (navigator.platform.indexOf(\"iPod\") != -1)) {\r\n                  window.open(\"maps://maps.google.com/maps/dir/\" + that.currentLatitude +\",\"+ that.currentLongitude + \"/\" + endLat+\",\"+ endLong + \"\");\r\n                }\r\n              else {\r\n                  window.open(\"https://maps.google.com/maps/dir/\" + that.currentLatitude +\",\"+ that.currentLongitude + \"/\" + endLat+\",\"+ endLong + \"\");\r\n              }\r\n            });\r\n        }\r\n      });\r\n      dirManager.calculateDirections();\r\n    });\r\n  }\r\n\r\n  getTicketModalHTML(data: any, distancdData: any, fromAddress: any, toAddress: any): String {\r\n    var mapheight: string = \"\";\r\n    var showStartButton: string = \"none;\";\r\n\r\n    if (this.singleView == 'Yes') {\r\n      mapheight = \"height:200px;\"\r\n      showStartButton = \"block;\"\r\n    }\r\n\r\n    var workSeverityColor: any = \"#cf2a2a\";\r\n    if (data.TicketSeverity.toLowerCase() === \"major\") {\r\n      workSeverityColor = \"#009fdb\";\r\n    }\r\n    else if (data.TicketSeverity.toLowerCase() === \"minor\" || data.TicketSeverity.toLowerCase() === \"warning\" || data.TicketSeverity.toLowerCase() === \"unknown\") {\r\n      workSeverityColor = \"#191919\";\r\n    }\r\n    var dialogData = \"<div style='display: flex; padding:5px;justify-content: space-between;align-items: flex-start;'>\"\r\n      + \"<h5 id='tktId'><a href='javascript:void(0);' style='text-decoration: underline; color:#000; font-size:14px;'>\" + data.TicketNumber + \"</a></h5>\"\r\n      + \"<button type='button' class='close' data-dismiss='modal' title='Close'>&times;</button>\"\r\n      + \"</div>\"\r\n      + \"<div  style='max-height:420px; overflow-y:auto; overflow-x:hidden; font-size:12px; padding:5px;'>\"\t\t\t\t//class='modal-body'\t\r\n      + \"<form class='tktForm'>\"\r\n      + \"<div id='initFormContent' style='display: block;'>\"\r\n      + \"<div class='row newrow'>\"\r\n      + \" <div class='col-sm-4' style='width:130px;'>\"\r\n      + \"<label class='control-label'>Severity:</label>\"\r\n      + \"</div>\"\r\n      + \"<div class='col-sm-8' style='width:240px;'>\"\r\n      + \" <label class='control-label' style=color:\" + workSeverityColor + \">\" + data.TicketSeverity + \"</label>\"\r\n      + \"</div>\"\r\n      + \"</div>\"\r\n      + \"<div class='row newrow'>\"\r\n      + \" <div class='col-sm-4' style='width:130px;'>\"\r\n      + \"<label class='control-label'>Common ID:</label>\"\r\n      + \"</div>\"\r\n      + \"<div class='col-sm-8' style='width:240px;'>\"\r\n      + \"<label class='control-label'>\" + data.CommonID + \"</label>\"\r\n      + \"</div>\"\r\n      + \"</div>\"\r\n      + \"<div class='row newrow'>\"\r\n      + \" <div class='col-sm-4' style='width:130px;'>\"\r\n      + \"<label class='control-label'>Affecting:</label>\"\r\n      + \"</div>\"\r\n      + \"<div class='col-sm-8' style='width:240px;'>\"\r\n      + \"<label class='control-label'>\" + data.CustAffecting + \"</label>\"\r\n      + \"</div>\"\r\n      + \"</div>\"\r\n      + \"<div class='row newrow'>\"\r\n      + \" <div class='col-sm-4' style='width:130px;'>\"\r\n      + \"<label class='control-label'>Short Descript:</label>\"\r\n      + \"</div>\"\r\n      + \"<div class='col-sm-8' style='width:240px;'>\"\r\n      + \" <label class='control-label'>\" + data.ShortDescription + \"</label>\"\r\n      + \"</div>\"\r\n      + \"</div>\"\r\n      + \"<div class='row newrow'>\"\r\n      + \"<div class='col-sm-12' style='border-top:1px solid #dbdbdb; margin-right:-10px;width: 100%;margin-bottom:5px;'>\"\r\n      + \"</div>\"\r\n      + \"</div>\"\r\n      + \"<div class='row newrow' id='mdticketErrorMessage' style='display:none;'>\"\r\n      + \"<div class='col-sm-12' style='border-top:1px solid #dbdbdb; margin-right:-10px;'>\"\r\n      + \"<label class='control-label' style='color:#cf2a2a'>Current location is not accessible. </label>\"\r\n      + \"</div>\"\r\n      + \"</div>\"\r\n      + \"<div class='row newrow' id='mdticketLoading' style='display:none;'>\"\r\n      + \"<div class='col-sm-12' style='border-top:1px solid #dbdbdb; margin-right:-10px;'>\"\r\n      + \"<label class='control-label'>Loading.....</label>\"\r\n      + \"</div>\"\r\n      + \"</div>\"\r\n      + \"<div class='row newrow' id='mdticketMap'>\"\r\n      + \"<div class='col-sm-12' style='width:100%;\" + mapheight + \"'>\"\r\n      + \"<div id='modalMap' #modalmapElement>\"\r\n      + \"</div>\"\r\n      + \"</div>\"\r\n      + \"</div>\"\r\n      + \"<div class='row newrow' id='mdticketDistance'>\"\r\n      + \" <div class='col-sm-12' style='width:350px;'>\"\r\n      + \" <label id='ticketdistancedata' class='control-label'>\" + distancdData + \"</label>\"\r\n      + \"</div>\"\r\n      + \"</div>\"\r\n      + \"<div class='row newrow' id='mdticketFromAddress'>\"\r\n      + \" <div class='col-sm-1' style='width:10%;'>\"\r\n      + \"<img src='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAYCAYAAAALQIb7AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAANRSURBVEhLvZVLSFRRGMeNiqK2tYwWtW/RpqigCCJCiBZFUFnLaFEtapESGBiVRRSCCGUvNW1sLNNSk14qvSwdH42PeTuPa/N+OC/vzPz73xitO94Zxwh/cOBy7j33f873P9/3FWARWZDYdCyBcETEVHgaSCTTs/kzr5g9EMdHWxjVWj9Ke124+MWJks9OXO5z4/5YAN8cYQS4gXzIKpbiMHpjuNPrRFGzBRtrDVj6UI9VNQas5ljyQI+1NXqcejkBtdYLiz+OlLQoB1nFmkf9OPjMjC31BlzrEfBaF8CQKwZ7WMTPaILPUTwZ8uJsmxVrHulxoMMO3WQkvVoZRbFnFDr50oqiFxZUD3oxyh9H6Fcmfgr3MYyXGNadPP2+NhvG+G0qqXxEuRi/MTF0h7nwGIWe/vBBFOe/CBGKltHLDfVGXPv0ExMMqRIyMSEYx116tI2hq9J4kBDnMeEvbL4YKii0iT4+1wfTs3JkYr2OCI4+t6D0nQMDQu74K6GhZ5vrDCinqN0393QysSZjCOu5s4Zh728/FoqbKXCm046Lbx3oMs09nUysUuvjldahxx6mf/mHcIapeBL1GjdKKKga9qVn/zArFomKuPLdhZW8xvogK8Q/EJ5OopU5d6HThtpBT3r2D7NiInd1o9+DFUzcAXcsPbswpJM1DXlwvsOKRwM5xCSqRvxYcm8cneYQUnlc+UyCzMWbPZMofm1DK3M1E5lYy8QU1vE23frqhD1LruRiIjCN/bzNZV0Cfgj0PQOZmJTQ5d0CChtNaMmSK9kQ6Ve7MYhlvGC3WXWSCpGRiYmJFDQsP9sbjDjNUGj5nC9tFNrXZMYhVp6vWdbJxCRCNPkKk3KX2oQjHTb0MQ2UdjlDlD41s0gfe2XFbm6yfcyPkEIdlZgjJiGw9Jx4L2D9YwPOS2YbghhnRfAw0QOs+H4OF59HPTGoRnwoZHfYozKigl7HcmxMUUzCw26sZpLvVZmw/L4OW9VmXKfxdf1uPPjmQvEbB3bwXQHfHWebea8PIE4bcpWCrGISQZ6glzWykgl69eMkylgzz7VbfydtKUvSDYa7Zlzqc2xBDP985BSbIUYPjPzhB9a7RrYdqbF2m4Mwe6LpL/IjL7H/xSKKAb8A9MKXAOgE42gAAAAASUVORK5CYII=' />\"\r\n      + \"</div>\"\r\n      + \" <div class='col-sm-11' style='border-bottom:1px solid #dbdbdb; width:90%;'>\"\r\n      + \" <label id='ticketfromaddress' class='control-label'>\" + fromAddress + \"</label>\"\r\n      + \"</div>\"\r\n      + \"</div>\"\r\n      + \"<div class='row newrow' id='mdticketToAddress'>\"\r\n      + \" <div class='col-sm-1' style='width:10%;'>\"\r\n      + \"<img src='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAaCAYAAABCfffNAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAANfSURBVEhLzZXdS1NxGMf7eyLrwgyMbgIhUevCiKC6zQgURfRCw7AXKnqjEouIUCzqIlAUMwjBhC4qrL229v7W3M7cdJubO3s527fn9zunU3vfupA+MDae39nve36/5/s8zx7sAv+HSF6SkEulIO3sQEokIMXj/HcunUY+l1Oeqk5VkTx9Ek4nhPl5uO/fh+vGDTivXYP3yROElpeRXF+XH6xBWRG2+bZWC/fYGCwXLsDS3w/H9etwP3oE1717sI2Pw9zbC8u5c/BNTCBhsch/rECJSC6bRWR1Fc7RURiOH4e1pwc/afPQ+/eIfv2KyJcvCLKT3bwJ88mTMJ46BTcJc6E8e71SCkTyJBD99g3ms2ehO3IE669eIROJKKuliH4/XFevwkBitpERpARBWSmkQET0eGDq6oLpzBkIs7M8wdVgic9ub8M/PQ19dzdct2/zPYpRRTLRKIJv30Lf3g7f5CSyNQT+Jul2w0NXpj96FOHFRSX6B1UkYTTCOjgIGyU7bjAo0fqJ6/XQtbby/KU2NpSojCqyRW+g2bsXQbqmTCymROsnEw7DOjwMBxki8vmzEpXhIswTwRcvoNm3DzFyT3mPVIcVqW9mht9EcG5OicpwkWwyCf/Tp9AeOADR4eALjSLRHhvv3sF++TKE16+VqAwXkahtBJ49g3b/foh2O19oFOZEYWEBdipU4c0bJSqj5iRMudA0NWFrZQUS9aVGyZI7PQ8fwkYnCS0tKVEZVST64QN0x47BSycSfT4lWj/pQIDXl/vuXcSL2owqkqRcOKkBmk6fxmbRm9RCEkWEKB/aw4chvHzJr/9vVBF2RdG1NejpQfelS0iWqdxKRD5+hGVggL9g7NMnJfoHVYSRI4ew4+o7OmCnzpve3FRWKhOjIrb19UF36BA2qbEylxVTIMIQaUa4bt2Ctq0NZupHfqqfuM2GHA2v32TISdsmE/xUF99PnMAPOgGzLetj5SgRYcRpg58PHsBMifxx8SIc1PZ9d+4g+Pw5Ao8fw0OzxT40BAt9rOfPQ5iaQoamZiXKijBY1ceohzmvXIGxsxP6gweha26GrqWFf5soxiZkggxTq0NUFGHw+U7OYTUger2IaTS8eabI4jk258lF9cz5qiLFsKnJhBulIZF/ZRdEgF832n4shv7MoQAAAABJRU5ErkJggg==' />\"\r\n      + \"</div>\"\r\n      + \"<div class='col-sm-10' style='width:90%;'>\"\r\n      + \" <label id='tickettoaddress' class='control-label'>\" + toAddress + \"</label>\"\r\n      + \"</div>\"\r\n      + \"</div>\"\r\n      + \"<div class='row newrow' style='display:\" + showStartButton + \"'>\"\r\n      + \"<div class='col-sm-12' style='display: flex; justify-content: center; width:100%;'>\"\r\n      + \"<a id='startButtonLink' href='javascript:void(0);'><img id='startimage'  src='data:image/png;base64,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'/> </a>\"\r\n      + \"</div>\"\r\n      + \"</div>\"\r\n      + \"</div>\"\t//end initform\t\t\t\t\t\r\n      + \"<div id='moreFormContent' style='display: none;'>\"\r\n      + \"<div class='row newrow'>\"\r\n      + \" <div class='col-sm-4' style='width:160px; font-size:12px;'>\"\r\n      + \" <label class='control-label'>Entry Type:</label>\"\r\n      + \"</div>\"\r\n      + \"<div class='col-sm-8' style='width:210px;'>\"\r\n      + \"<label class='control-label'>\" + data.EntryType + \"</label>\"\r\n      + \"</div>\"\r\n      + \"</div>\"\r\n      + \"<div class='row newrow'>\"\r\n      + \"<div class='col-sm-4' style='width:160px; font-size:12px;'>\"\r\n      + \"<label class='control-label'>Status:</label>\"\r\n      + \"</div>\"\r\n      + \"<div class='col-sm-8' style='width:210px;'>\"\r\n      + \"<label class='control-label'>\" + data.TicketStatus + \"</label>\"\r\n      + \"</div>\"\r\n      + \"</div>\"\r\n      + \"<div class='row newrow'>\"\r\n      + \"<div class='col-sm-4' style='width:160px; font-size:12px;'>\"\r\n      + \"<label class='control-label'>Customer Affecting:</label>\"\r\n      + \"</div>\"\r\n      + \"<div class='col-sm-8' style='width:210px;'>\"\r\n      + \" <label class='control-label'>\" + data.CustAffecting + \"</label>\"\r\n      + \"</div>\"\r\n      + \"</div>\"\r\n      + \"<div class='row newrow'>\"\r\n      + \"<div class='col-sm-4' style='width:160px; font-size:12px;'>\"\r\n      + \"<label class='control-label'>Assignee:</label>\"\r\n      + \"</div>\"\r\n      + \"<div class='col-sm-8' style='width:210px;'>\"\r\n      + \" <label class='control-label'>\" + data.AssignedTo + \"</label>\"\r\n      + \"</div>\"\r\n      + \"</div>\"\r\n      + \"<div class='row newrow'>\"\r\n      + \"<div class='col-sm-4' style='width:160px; font-size:12px;'>\"\r\n      + \"<label class='control-label'>Common ID:</label>\"\r\n      + \"</div>\"\r\n      + \"<div class='col-sm-8' style='width:210px;'>\"\r\n      + \"<label class='control-label'>\" + data.CommonID + \"</label>\"\r\n      + \"</div>\"\r\n      + \"</div>\"\r\n      + \"<div class='row newrow'>\"\r\n      + \"<div class='col-sm-4' style='width:160px; font-size:12px;'>\"\r\n      + \"<label class='control-label'>Equipment ID:</label>\"\r\n      + \"</div>\"\r\n      + \"<div class='col-sm-8' style='width:210px;'>\"\r\n      + \" <label class='control-label'>\" + data.EquipmentID + \"</label>\"\r\n      + \"</div>\"\r\n      + \"</div>\"\r\n      + \"<div class='row newrow'>\"\r\n      + \"<div class='col-sm-4' style='width:160px; font-size:12px;'>\"\r\n      + \"<label class='control-label'>Equipment Name:</label>\"\r\n      + \"</div>\"\r\n      + \"<div class='col-sm-8' style='width:210px;'>\"\r\n      + \"<label class='control-label'>\" + data.EquipmentName + \"</label>\"\r\n      + \"</div>\"\r\n      + \"</div>\"\r\n      + \"<div class='row newrow'>\"\r\n      + \"<div class='col-sm-4' style='width:160px; font-size:12px;'>\"\r\n      + \"<label class='control-label'>Parent ID:</label>\"\r\n      + \"</div>\"\r\n      + \"<div class='col-sm-8' style='width:210px;'>\"\r\n      + \"<label class='control-label'>\" + data.ParentID + \"</label>\"\r\n      + \"</div>\"\r\n      + \"</div>\"\r\n      + \"<div class='row newrow'>\"\r\n      + \"<div class='col-sm-4' style='width:160px; font-size:12px;'>\"\r\n      + \"<label class='control-label'>Parent Name:</label>\"\r\n      + \"</div>\"\r\n      + \"<div class='col-sm-8' style='width:210px;'>\"\r\n      + \"<label class='control-label'>\" + data.ParentName + \"</label>\"\r\n      + \"</div>\"\r\n      + \"</div>\"\r\n      + \"<div class='row newrow'>\"\r\n      + \"<div class='col-sm-4' style='width:160px; font-size:12px;'>\"\r\n      + \"<label class='control-label'>Problem Category:</label>\"\r\n      + \"</div>\"\r\n      + \"<div class='col-sm-8' style='width:210px;'>\"\r\n      + \" <label class='control-label'>\" + data.ProblemCategory + \"</label>\"\r\n      + \"</div>\"\r\n      + \"</div>\"\r\n      + \"<div class='row newrow'>\"\r\n      + \"<div class='col-sm-4' style='width:160px; font-size:12px;'>\"\r\n      + \"<label class='control-label'>Problem Sub Category:</label>\"\r\n      + \"</div>\"\r\n      + \"<div class='col-sm-8' style='width:210px;'>\"\r\n      + \"<label class='control-label'>\" + data.ProblemSubcategory + \"</label>\"\r\n      + \"</div>\"\r\n      + \"</div>\"\r\n      + \"<div class='row newrow'>\"\r\n      + \"<div class='col-sm-4' style='width:160px; font-size:12px;'>\"\r\n      + \"<label class='control-label'>Problem Detail:</label>\"\r\n      + \"</div>\"\r\n      + \"<div class='col-sm-8' style='width:210px;'>\"\r\n      + \"<label class='control-label'>\" + data.ProblemDetail + \"</label>\"\r\n      + \"</div>\"\r\n      + \"</div>\"\r\n      + \"<div class='row newrow'>\"\r\n      + \"<div class='col-sm-4' style='width:160px; font-size:12px;'>\"\r\n      + \"<label class='control-label'>Short Descript:</label>\"\r\n      + \"</div>\"\r\n      + \"<div class='col-sm-8' style='width:210px;'>\"\r\n      + \"<label class='control-label'>\" + data.ShortDescription + \"</label>\"\r\n      + \"</div>\"\r\n      + \"</div>\"\r\n      + \"<div class='row newrow'>\"\r\n      + \"<div class='col-sm-4' style='width:160px; font-size:12px;'>\"\r\n      + \"<label class='control-label'>Location Ranking:</label>\"\r\n      + \"</div>\"\r\n      + \"<div class='col-sm-8' style='width:210px;'>\"\r\n      + \"<label class='control-label'>\" + data.LocationRanking + \"</label>\"\r\n      + \"</div>\"\r\n      + \"</div>\"\r\n      + \"<div class='row newrow'>\"\r\n      + \"<div class='col-sm-4' style='width:160px; font-size:12px;'>\"\r\n      + \"<label class='control-label'>Planned Restoral Time:</label>\"\r\n      + \"</div>\"\r\n      + \"<div class='col-sm-8' style='width:210px;'>\"\r\n      + \"<label class='control-label'>\" + data.PlannedRestoralTime + \"</label>\"\r\n      + \"</div>\"\r\n      + \"</div>\"\r\n      + \"<div class='row newrow'>\"\r\n      + \"<div class='col-sm-4' style='width:160px; font-size:12px;'>\"\r\n      + \"<label class='control-label'>Alternate Site ID:</label>\"\r\n      + \"</div>\"\r\n      + \"<div class='col-sm-8' style='width:210px;'>\"\r\n      + \"<label class='control-label'>\" + data.AlternateSiteID + \"</label>\"\r\n      + \"</div>\"\r\n      + \"</div>\"\r\n      + \"<div class='row newrow'>\"\r\n      + \"<div class='col-sm-4' style='width:160px; font-size:12px;'>\"\r\n      + \"<label class='control-label'>Work Request ID:</label>\"\r\n      + \"</div>\"\r\n      + \"<div class='col-sm-8' style='width:210px;'>\"\r\n      + \"<label class='control-label'>\" + data.WorkRequestId + \"</label>\"\r\n      + \"</div>\"\r\n      + \"</div>\"\r\n      + \"<div class='row newrow'>\"\r\n      + \"<div class='col-sm-4' style='width:160px; font-size:12px;'>\"\r\n      + \"<label class='control-label'>Activity Action:</label>\"\r\n      + \"</div>\"\r\n      + \"<div class='col-sm-8' style='width:210px;'>\"\r\n      + \"<label class='control-label'>\" + data.Action + \"</label>\"\r\n      + \"</div>\"\r\n      + \"</div>\"\r\n      + \"</div>\"\r\n      + \"</form>\"\r\n      + \"</div>\"\r\n      + \"<div style='display: flex; justify-content: flex-end; padding-right: 5px; padding-bottom: 5px;'>\"\r\n      + \"<button id='moreFormContentBtn' style='background:transparent;border:0;cursor:pointer;'> <img id='dummyimage'  src='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYxIDY0LjE0MDk0OSwgMjAxMC8xMi8wNy0xMDo1NzowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNS4xIFdpbmRvd3MiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OTI0RjVFNjZEQzNBMTFFOEFEMTI4QUMzODNDRERGQkMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OTI0RjVFNjdEQzNBMTFFOEFEMTI4QUMzODNDRERGQkMiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5MjRGNUU2NERDM0ExMUU4QUQxMjhBQzM4M0NEREZCQyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo5MjRGNUU2NURDM0ExMUU4QUQxMjhBQzM4M0NEREZCQyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PlhOsuYAAAGxSURBVHjatJbBSsNAEIYTLfoEhUIg0FMhIBR69SQIBSHgqdAHEDzl5KngYwiB9loCHrzoSfANBEEICIWi1JMXxVOhEP+VGRjXTbKJceBL02T3/7Oz2Z24TnF44BgcgTbo0/UH8AZuwFWWZa9OxeiAGGxAVsKG2nZg5OiYYgg+hUACRmAAWsSAriWineozLDOIRIdLEFiMNqC23C/KMwhFSia2uRRCE5GyUDdQk/lODeICvX1wIkemPW1MGkrLkwaxyHdRXFC7U5MBCfK8xGzgi9QEDRgEIlX+Fg5jsA3mIHX+GDBJSUtpjpXBId2b1xF0XfcHmtaBeqd7YnXK2AM72rU2/fq0FmR8gIWm9Z3yNeVsV+vwbLGKJdc8J6SlTtatgtE/0n4jw6dRvBjuLfKEVuTmWaT811tkWnikpU5WapKf6F6/5ltj2ntYK1UGt/Rn5DQXrHWnDt1/XGhdNYIlmFH78waenjVmMFzKzY5rwFndOaC+XBs803adVTUxiGem7dpUcBKxyouip1W2qKxkhgUlkyOvZIY2NZnnZFqh6E855zpuxc8WHsW97WfLlwADAEeDUq2DVY8MAAAAAElFTkSuQmCC'/> </button>\"\r\n      + \"</div>\"\r\n    return dialogData;\r\n  }\r\n\r\n  loadCurrentLocation(that, map, dirManager) {\r\n    if (navigator.geolocation) {\r\n      navigator.geolocation.getCurrentPosition(function (position) {\r\n        var loc = new Microsoft.Maps.Location(\r\n          position.coords.latitude,\r\n          position.coords.longitude);\r\n\r\n        var currentLocImage = 'data:image/png;base64,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';\r\n        //Add a pushpin at the user's location.\r\n        var pin = new Microsoft.Maps.Pushpin(loc, { icon: currentLocImage });\r\n        map.entities.push(pin);\r\n        // Center the map on the user's location.\r\n        // maps.setView({ center: loc, zoom: 15 });\r\n        that.currentLatitude = position.coords.latitude;\r\n        that.currentLongitude = position.coords.longitude;\r\n\r\n        console.log('current location loaded.');\r\n        if(that.singleView == 'Yes' && that.directionUpdated == \"0\")\r\n        {\r\n          // map.entities.clear();\r\n          // map.layers.clear();\r\n          // var pin = new Microsoft.Maps.Pushpin(loc, { icon: currentLocImage });\r\n          // map.entities.push(pin);\r\n          // that.addTicketData(that, map, dirManager, \"0\");\r\n          console.log('Get Job loading direction again.');\r\n          that.UpdateTicketDirections(that, map, dirManager, that.ticketList[0].FieldTupleList.FieldTuple, that.ticketList[0].FieldTupleList.FieldTuple.Latitude, that.ticketList[0].FieldTupleList.FieldTuple.Longitude, \"0\");\r\n        }else if(that.singleView != 'Yes' && that.directionUpdated == \"0\" && that.selectedticketNo != undefined ){\r\n          console.log('loading direction again.');\r\n          that.UpdateTicketDirections(that, map, dirManager, that.selectedPushpinData, that.selectedPushpinData.Latitude, that.selectedPushpinData.Longitude, \"0\");\r\n        }\r\n\r\n      },function(positionError){\r\n        if(that.singleView == 'Yes'){\r\n          $(\"#mdticketLoading\").hide();\r\n          $(\"#mdticketErrorMessage\").show();\r\n          $(\"#startButtonLink\").click(function () {\r\n            //we're on iOS, open in Apple Maps\r\n            if ((navigator.platform.indexOf(\"iPhone\") != -1) ||\r\n              (navigator.platform.indexOf(\"iPad\") != -1) ||\r\n              (navigator.platform.indexOf(\"iPod\") != -1)) {\r\n              window.open(\"maps://maps.google.com/maps?daddr=\" + that.ticketList[0].FieldTupleList.FieldTuple.Latitude + \",\" + that.ticketList[0].FieldTupleList.FieldTuple.Longitude + \"&amp;ll=\");\r\n            }\r\n            else {\r\n              window.open(\"https://maps.google.com/maps?daddr=\" + that.ticketList[0].FieldTupleList.FieldTuple.Latitude + \"/\" + that.ticketList[0].FieldTupleList.FieldTuple.Longitude + \"&amp;ll=\");\r\n            }\r\n          });\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  addTicketData(that, map, dirManager, loadPopupClick) {\r\n    var mapZoomLevel: number = 10;\r\n    var initIndex: number = 1;\r\n    this.ticketList.forEach(data => {\r\n      if (data.FieldTupleList.FieldTuple.Latitude != '' && data.FieldTupleList.FieldTuple.Longitude != '') {\r\n        var ticketCount = data.ticketCount == undefined ? '' : data.ticketCount;\r\n        var ticketImage = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAtCAYAAADcMyneAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAANOSURBVFiFzZlPSBRRGMB/39tMCCN3Ny3ILlGC/TlYUOCfTYIwISjwVnTpVHTJg1EgCdVFq1sRHSLonIe6WFGkq7sVFEhhmuWtP4TMiiiFujOvQ6M76qw67rjj7zbvffN9Px6zO+99I6wA3UChMU6tCLVaqBSLXQhbgCI7ZALNbxGGNPRpiEeL6JVOJr3WEi/BozEqLYsLCI1Ascdao0CHMrkbTtLnq2Cqjr3a5BZQ71EqW9VOTJqjCfqXDl0EvYf1qQg3gCZgnS9yGdJauB01uCr9THkWNOooE5MnGvb7LDbf4L2e5uTmN/xwn3aTq2YPIZ6j2baqchm+A/XRHj7Pn1ggOFJDuRK6ga35MHPwywwRK+3im3NwjuBINRuV4h1QkVe1DENSyMHIS8ZmBpRzVikeEpwcQLme5L5zYHYFjVoagcd5V3LBEk6UxHkKtqA+QEFqA4PAjkDNbAS+hUNUSBdpBWBs4DRrRA5Aw04jzSmwn0GB88EqLUSEcwBi/618CVrIjZDJTiXi0/t1FbAU9UqgKmiRbFhQrYDdQYtkRahQQFnQHotQpsjsgtccApsUeN+G55G/CvgZtMUi/FQCv4K2WIQfyoKBoC2yITCogBdBi2RF81zsTaoBFATtM48pM0RUlSQYZw2uosCz0i4mFIAS2oMWcqEd7O1WOE4cSAaq40TTE+khAc4zidAMmEE5OTDRXJq5mBWMxklqzc1gnDIItEUTvHVcZ9ANFI5OkFz1bkIWBD6EU1Q5WyFzjp3SyWQBHIOFJ/w8MJQOcXx+n8a99VFHGSbd5OkgpWFYW8RKEgv3BcrthmgX3wtCHELoXH09XplTVLvJwVLtN1BGLZcFWoH1PotNidAajtMmoLMFLauBacTYDrSgOUvufUILoSOU5kpxkuGlgj21gEdqKFdwxm4Be+3hDKDpMBWPSuN8Xe5NngSdpGLs05puILxE6KgIhyNxPq2kjuuPZDnYBa8vI/TaSuUgB0GAyB/uAEPZ5jUMR4q4l0uNnATlA9PW/3e4e3JN00q+jcypkcvNMxg1vEA4Oiex5nWklyO55s5pBWfRNAFpx4iJcNGP1L4I2h9kHs4OCA8iPXz0I7c/KwhMm7QAY8C4qWj1K+8/dkjlffe0168AAAAASUVORK5CYII=\"\r\n        if (data.FieldTupleList.FieldTuple.TicketSeverity.toLowerCase() === \"unknown\" || data.FieldTupleList.FieldTuple.TicketSeverity.toLowerCase() === \"warning\" || data.FieldTupleList.FieldTuple.TicketSeverity.toLowerCase() === \"minor\") {\r\n          ticketImage = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAzCAYAAADsBOpPAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAPySURBVGiB7ZhPiBt1FMe/7yXT1d3FQhGKeKnoKtjsWmlvxRah9qLVS6dJZoOuBw+WQi/1tIcWvOiWslS9uAeJaya/bIMHKYqohxQUQYhaNpWyWFBWoi30oCh1N5Pf87DbkJ1MJpOdZBKwn1ve7/1+75Nh5vePsA1M09xhGMZBAIcAPA3gCQC7AYxvpvxNRH+IyAqAH5j5yujo6DcLCwu17dRrhrpJTqfTe4noFIATAHZ1Wes2gEtE9J5t2z912bdBIOFkMvl4LBabA/Bi0D4+CIBPmPmNXC73c7edfYubphmLx+OzRDQLYMd2DduwJiJvOo7zVrFYrAft1FY4nU4/SEQfY+M97RsiUjIM4/ji4uLtIPmewqlUag8zfwFgoqd27VkBcDSfz//aKbFFOJ1O7yaiK9j48qPkBjM/k8vlfvdL4uYfMzMz9xHRp4heFgAe1Vp/Zprm/X5JW4TX19fnAezvq5Y/+wzDmPNLaLwSlmUdAlBC+GkrLFpEDiulvvZqvPuECcBFDF4WAJiI5tHGhQEgk8kcA7AvSqsOHJienn7eq4EBQGt9MlqfzojI615xymQyD2mtVwHEInbqRF1EHlZK3WwOsogcxfDJAhtOz7mDrLXu69IbBiI67I4xM+8dhEwQiOhJd4xFZM8AXAIhIo+4Ywxg5wBcgtLixl5ZQ0SLHwO46ZE4LFTdAfYKDhGewh03zQOkxY03N+tDiYiU3DGu1+ufD8AlECLylTvGhULhFwDXo9fpyLVNty0wAIjIu5HrdOYdryADwMjIyAcYruntVq1W+8irgQEgm83+C2A+UiV/zheLxTteDY2VpFqtXgDwXWRK7fl+fHz8YrvGhnCpVHJE5BUAnv8sItZE5GW/W84ta7VS6jqA1wDofpt5oEXkVaXUNb+klpPG8vLyciKRWCWiXtxUBkVE5KRSKtsp0fNoVKlUfpycnLwFIIrj07qInFJKvR8k2fcJplKpA8x8CUDLRrpH/CYiJ5RS3wbt4Pv0KpVKNZFI2ET0AICnOuV3QQ3AQjweT9q2vdJNx8DvaCaTeUxrfQ7AcQAj3fk1WCOiouM455aWlm5sZ4CuPyrTNHcahvECgCSAYwG7XQawRESXbdv+q9uazYSaBSzL+hLAEb8cESkppZ4NU6eZUGc6Zj4D/zlbE9GZMDVaaobpnMvlrgJY9En5MJ/Pl8PUcBP61Ky1ngXwj0fTHa312bDjuwktXCgUqkR0waNprlAorIYd301P7iXGxsbeBtAsV43FYud7MbabniwE5XK5NjU19SeAlwBARE7btt2XrWrPbn4mJiayAMoictVxHL8PcXiwLOuIZVm+8/I97vF/5z/d0joEPzhZGgAAAABJRU5ErkJggg==\"\r\n        } else if (data.FieldTupleList.FieldTuple.TicketSeverity.toLowerCase() === \"major\") {\r\n          ticketImage = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAzCAYAAADsBOpPAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAOySURBVGiB7ZhNaBxlGICfd2ZNalsoiFBUhLbZTfpzMNLgQTFFqL1oPZV4UZvdpJTWHuspggEvmlJCVdCg5sciYsSD9CLqIYGKILbaQ2q73a2GltgKBRVNmuzOvB4S083szOzMzu7sgn1u837v930PH7vfzytUw+RMCwutT2BrN/Ao0AFsBjauZPyNcgMhC/wITLP057cc7ipUNV8JEip7/MouVI6B9gD3hZzrFsIkNu+QSV0M2XeVYMIT+XZsewh4LnAfbxT4AkteoT+ZC9vZf/JJNZnPDaAMAC1VCnqxiMjrrG97gx6xgnbyFh65fD8txudAdy3sfJjCKB7g4I5bQZLdhcd+3gKJr4BUDcX8yGKZ++jfNlspsVz4/aubSdjToB11UfMmT6LwJC/u/M0vaa3w2C/roHgW2F1PMx9+YsO6x+l5eMErwVj7aQ3TOFmATuZvD/kl3Fnh8Ww3KlNE37aiYmMbe+hrO+vWuLzCqoLKKRovC2Bg2sOourosC0/k9gOdcVr5onQxduUZt6aVFeZorEJBEI64h09ffIDiPdcAM2alSlgUzYc4tO1madCg0LKP5pMFMDGtp51BA9F6H73VY7CnPAS7GqASDGWnM2QAW+I3CYpsdUYMYFMDTAKiZW6GW1oTUeZnADddEpuFOWfAQMuDTYOoi7BoxUtzw1ApczOA6QaoBEOZcoYMsL5sgEowpPiNM2SQ3vErcCl+m4rMrLit4b9t4+14XQIg8pZbeEU4MUpzbW+/s771tFvDsnB6621gOE4jX1ROeD1E75wks9dPAt/H5eTDeQp/nPJqdDzzL28H4zxwb72tPFhE2E1vasYrYe1Zne64hHAIsOtt5oKNatpPFtwuP72pj1HtZ7nKGBeK6lEy7Z9USnS/rWXax1BeBiIXoAOwhOoRMu0jQZL96xAf5rsw7Emg7CJdE4TrCD0cTH0XtIv/fbiv7QeW7MdA3qO2q11AeBcpdoaRhTCVng9ySUwdBA4AreH8VllE+AwYpDeVr2aA8KWpkfwmWu1nUZ4H9gfsdQbhUxKc4YXUX6HnLCFaLW089zWqeytkTZFOPRVpnhKiveks6zj+e7aNyPFIcziIJtzXcQHkI892YYLe5LlIcziI/mq2iwPAPy4tC9jyWuTxHUQX7ts+h3LSpWWITPJa5PEd1KYuUdjwJlAqN4c5f6ImYzuojfDhB+eBwdVv1Vd56RG3n0lkalf5mU2OA+eAC2xMef8Rm4rR7F5Gs5X25bvc5X/Nv1oY9qdbFkl0AAAAAElFTkSuQmCC\"\r\n        }\r\n        var pushpin = new Microsoft.Maps.Pushpin(new Microsoft.Maps.Location(data.FieldTupleList.FieldTuple.Latitude, data.FieldTupleList.FieldTuple.Longitude), { icon: ticketImage, text: ticketCount.toString() });\r\n        pushpin.metadata = data.FieldTupleList.FieldTuple;\r\n        map.entities.push(pushpin);\r\n        this.dataLayer.push(pushpin);\r\n        map.setView({ mapTypeId: Microsoft.Maps.MapTypeId.road, center: new Microsoft.Maps.Location(data.FieldTupleList.FieldTuple.Latitude, data.FieldTupleList.FieldTuple.Longitude) });\r\n        initIndex = initIndex + 1;\r\n        ////validate singleview to provide click or direction.\r\n        if (that.singleView == 'Yes') {\r\n          loadTicketDirections(that, data.FieldTupleList.FieldTuple, data.FieldTupleList.FieldTuple.Latitude, data.FieldTupleList.FieldTuple.Longitude, loadPopupClick);\r\n        } else {\r\n          Microsoft.Maps.Events.addHandler(pushpin, 'click', pushpinClicked);\r\n        }\r\n\r\n        if(data.FieldTupleList.FieldTuple.TicketNumber == this.selectedticketNo)\r\n        {\r\n          this.selectedPushpin = pushpin;\r\n          this.selectedPushpinData = data.FieldTupleList.FieldTuple;\r\n        }\r\n      }\r\n    });\r\n    mapZoomLevel = map.getZoom();\r\n\r\n    var pins = map.entities;\r\n    var pushpins = [];\r\n    for (let i = 0; i < pins.getLength(); i++) {\r\n      pushpins.push(pins.get(i));\r\n    }\r\n    console.log(pins);\r\n    if (pushpins) {\r\n      map.setView({\r\n        bounds: Microsoft.Maps.LocationRect.fromShapes(pushpins),\r\n        padding: 100 //Add a padding to buffer map to account for pushpin pixel dimensions\r\n      });\r\n    }\r\n\r\n    if (this.selectedPushpin) {\r\n      window.setTimeout(() => {        \r\n        console.log('pushpins[0]:', this.selectedPushpin)\r\n          Microsoft.Maps.Events.invoke(this.selectedPushpin, 'click', { target: this.selectedPushpin });\r\n      }, 3000);\r\n    }\r\n\r\n    function pushpinClicked(e) {\r\n      if (e.target.metadata) {\r\n        var ll = e.target.getLocation();\r\n        loadTicketDirections(that, e.target.metadata, ll.latitude, ll.longitude, \"1\");\r\n      }\r\n      $('.NavBar_Container.Light').attr('style', 'bottom:30px;top:unset !important;');\r\n      pinClicked(e.target.metadata, 0)\r\n    }\r\n\r\n    var distanceData = \"\";\r\n    function pinClicked(parms: any, lauchTicketCard: number) {\r\n      //console.log('emit',that);\r\n      var selectedTicket = {\r\n        \"SelectedTicket\": {\r\n          \"TicketNumber\": parms.TicketNumber,\r\n          \"LaunchTicketCard\": lauchTicketCard\r\n        }\r\n      }\r\n      console.log('Selected Ticket: ' + parms.TicketNumber + 'launchTicket: ' + lauchTicketCard);\r\n      that.ticketClick.emit(selectedTicket);\r\n    }\r\n\r\n    function close(e) {\r\n      if (e.originalEvent.target.className === 'fa fa-times') {\r\n        $('.NavBar_Container.Light').attr('style', 'top:0px');\r\n        // infobox.setOptions({\r\n        //   visible: false\r\n        // });\r\n      }\r\n    }\r\n\r\n    function loadTicketDirections(that, infoBoxMetaData: any, endLat, endLong, loadbtnClick) {\r\n      Microsoft.Maps.loadModule('Microsoft.Maps.Directions', () => {\r\n        dirManager = new Microsoft.Maps.Directions.DirectionsManager(map);\r\n        dirManager.clearAll();\r\n        map.layers.clear();\r\n        // Set Route Mode to driving\r\n        dirManager.setRequestOptions({\r\n          routeMode: Microsoft.Maps.Directions.RouteMode.driving,\r\n          routeDraggable: true\r\n        });\r\n\r\n        dirManager.setRenderOptions({\r\n          drivingPolylineOptions: {\r\n            strokeColor: Microsoft.Maps.Color.fromHex('#009fdb'),\r\n            strokeThickness: 5\r\n          },\r\n          firstWaypointPushpinOptions: { visible: false, text: '', },//icon: 'data:image/png;base64,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'\r\n          lastWaypointPushpinOptions: {\r\n            visible: true, text: '',\r\n            icon: 'data:image/png;base64,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'\r\n          },\r\n          viapointPushpinOptions: {\r\n            visible: false,\r\n          },\r\n          waypointPushpinOptions: { visible: false },\r\n          autoUpdateMapView: true,\r\n          displayRouteSelector: false\r\n          //itineraryContainer: '#directionsItinerary'\r\n        });\r\n        //dirManager.showInputPanel('directionsPanel');\r\n        \r\n        if (that.currentLatitude != undefined && that.currentLongitude != undefined) {\r\n          const waypoint1 = new Microsoft.Maps.Directions.Waypoint({\r\n            location: new Microsoft.Maps.Location(that.currentLatitude, that.currentLongitude)\r\n          });\r\n          dirManager.addWaypoint(waypoint1);\r\n        }\r\n        \r\n        console.log(\"current Latitude: \" + that.currentLatitude + \"current Logitute: \" + that.currentLongitude);\r\n        const waypoint2 = new Microsoft.Maps.Directions.Waypoint({\r\n          location: new Microsoft.Maps.Location(endLat, endLong),\r\n        });\r\n        dirManager.addWaypoint(waypoint2);\r\n        console.log(\"destination Latitude: \" + endLat + \"destination Logitute: \" + endLong);\r\n        $(\"#mdticketLoading\").show();\r\n        if(loadbtnClick == \"1\"){\r\n          if (that.singleView != 'Yes') {\r\n            $(\"#singleviewmodalcontent\").html(that.getTicketModalHTML(infoBoxMetaData, '', '', ''));\r\n            $(\"#mdticketLoading\").show();\r\n            jQuery(\"#ticketmodal\").modal();\r\n            if (that.currentLatitude == undefined && that.currentLongitude == undefined){\r\n                $(\"#mdticketLoading\").hide();\r\n                $(\"#mdticketErrorMessage\").show();\r\n            }\r\n          }\r\n          $(\"#mdticketMap\").hide();\r\n          $(\"#mdticketDistance\").hide();\r\n          $(\"#mdticketFromAddress\").hide();\r\n          $(\"#mdticketToAddress\").hide();\r\n\r\n          $(\"#ticketmodal\").on(\"hidden.bs.modal\", function () {\r\n            if (that.singleView != 'Yes') {\r\n              dirManager.clearAll();\r\n              map.layers.clear();\r\n              map.setView({ center: new Microsoft.Maps.Location(endLat, endLong), mapZoomLevel });\r\n            }\r\n            pinClicked(infoBoxMetaData, 2);\r\n          });\r\n          $(\".close\").click(function () {\r\n            if (that.singleView != 'Yes') {\r\n              dirManager.clearAll();\r\n              map.layers.clear();\r\n              map.setView({ center: new Microsoft.Maps.Location(endLat, endLong), mapZoomLevel });\r\n            }\r\n            pinClicked(infoBoxMetaData, 2);\r\n          });\r\n          $(\"#tktId\").click(function () {\r\n            pinClicked(infoBoxMetaData, 1);\r\n          });\r\n          \r\n          var xflag: number = 0;\r\n          $(\"#moreFormContentBtn\").click(function () {\r\n            // console.log('called click');\r\n            if (xflag == 0) {\r\n              $(\"#initFormContent\").hide();\r\n              $(\"#moreFormContent\").slideToggle(\"slow\");\r\n              $(\"#dummyimage\").attr(\"src\", \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYxIDY0LjE0MDk0OSwgMjAxMC8xMi8wNy0xMDo1NzowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNS4xIFdpbmRvd3MiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OThGOTY5OTJEQzNBMTFFODkwMjA4M0QxMjE3M0YyNTkiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OThGOTY5OTNEQzNBMTFFODkwMjA4M0QxMjE3M0YyNTkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5OEY5Njk5MERDM0ExMUU4OTAyMDgzRDEyMTczRjI1OSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo5OEY5Njk5MURDM0ExMUU4OTAyMDgzRDEyMTczRjI1OSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pv3RHwgAAAF7SURBVHjavJZBZwNBFMcnFc0nKGEoOYWlhHyJsCw95WPsKZR8kiHXsPTQS3ppJd+glFJKLiU99dLqKYTpm/oPz5jdnUmnffyWnZ35/3fe7MzbjmgOSVwSOXFGjND+SLwTt8SN1vpNREafUMSB0C0c0LdPRsLFFxPiiwlUxJQYE10wRlvF+pkxkzaDkg24JrKA2Wboa8eVdQYFS8k8NJdMaM5SVrgGZjE/0EHFLJbztgoaRktyA8XyLY41gKBdF2UNzllqsgQGGUuV0RZXaFiKI6Lm01xC02iLNW5ykSBgkEPzznzTQ7Y7eVwQpxHan8TW0fpJ+R5uPWfAa8Au5qzYDHpo23cb3ugJ501obOse7OAmE66BhObuhC4veDZK8RU5Ws/G4B43U5EurNbGXAZ/uNEG/3JU2EWxNWD2i8NuxmqD9B3XOtbEI659x7Wv4FRslzfF0KlsZVvJLBpKpo26klmE1GS7JouIor+wOXfpRP622Fk8hP62fAswAJeeZaAnWSufAAAAAElFTkSuQmCC\");\r\n              xflag = 1;\r\n            }\r\n            else if (xflag == 1) {\r\n              $(\"#moreFormContent\").hide();\r\n              $(\"#initFormContent\").slideToggle(\"slow\");\r\n              $(\"#dummyimage\").attr(\"src\", \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYxIDY0LjE0MDk0OSwgMjAxMC8xMi8wNy0xMDo1NzowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNS4xIFdpbmRvd3MiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OTI0RjVFNjZEQzNBMTFFOEFEMTI4QUMzODNDRERGQkMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OTI0RjVFNjdEQzNBMTFFOEFEMTI4QUMzODNDRERGQkMiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5MjRGNUU2NERDM0ExMUU4QUQxMjhBQzM4M0NEREZCQyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo5MjRGNUU2NURDM0ExMUU4QUQxMjhBQzM4M0NEREZCQyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PlhOsuYAAAGxSURBVHjatJbBSsNAEIYTLfoEhUIg0FMhIBR69SQIBSHgqdAHEDzl5KngYwiB9loCHrzoSfANBEEICIWi1JMXxVOhEP+VGRjXTbKJceBL02T3/7Oz2Z24TnF44BgcgTbo0/UH8AZuwFWWZa9OxeiAGGxAVsKG2nZg5OiYYgg+hUACRmAAWsSAriWineozLDOIRIdLEFiMNqC23C/KMwhFSia2uRRCE5GyUDdQk/lODeICvX1wIkemPW1MGkrLkwaxyHdRXFC7U5MBCfK8xGzgi9QEDRgEIlX+Fg5jsA3mIHX+GDBJSUtpjpXBId2b1xF0XfcHmtaBeqd7YnXK2AM72rU2/fq0FmR8gIWm9Z3yNeVsV+vwbLGKJdc8J6SlTtatgtE/0n4jw6dRvBjuLfKEVuTmWaT811tkWnikpU5WapKf6F6/5ltj2ntYK1UGt/Rn5DQXrHWnDt1/XGhdNYIlmFH78waenjVmMFzKzY5rwFndOaC+XBs803adVTUxiGem7dpUcBKxyouip1W2qKxkhgUlkyOvZIY2NZnnZFqh6E855zpuxc8WHsW97WfLlwADAEeDUq2DVY8MAAAAAElFTkSuQmCC\");\r\n              xflag = 0;\r\n            }\r\n          });\r\n          if(that.singleview == 'Yes'){\r\n            \r\n          }\r\n        }\r\n        Microsoft.Maps.Events.addHandler(dirManager, 'directionsUpdated', function (e) {\r\n          //that.pathLayer.clear(); \r\n          that.directionUpdated = \"1\";\r\n          console.log('diraction updated');\r\n          var allWayPoints = dirManager.getAllWaypoints();\r\n          var fromAddress = allWayPoints[0].getAddress();\r\n          var toAddress = allWayPoints[1].getAddress();\r\n          \r\n          const routeIndex = e.route[0].routeLegs[0].originalRouteIndex;\r\n          const nextLocation = e.route[0].routePath[routeIndex + 1];\r\n\r\n          // Get the current route index.\r\n          const routeIdx = dirManager.getRequestOptions().routeIndex;\r\n          // Get the distance of the route, rounded to 2 decimal places.\r\n          const distance = Math.round(e.routeSummary[routeIdx].distance * 100) / 100;\r\n          // Get the distance units used to calculate the route.\r\n          const units = dirManager.getRequestOptions().distanceUnit;\r\n          let distanceUnits = '';\r\n\r\n          if (units === Microsoft.Maps.Directions.DistanceUnit.km) {\r\n            distanceUnits = 'km';\r\n          } else {\r\n            // Must be in miles\r\n            distanceUnits = 'miles';\r\n          }\r\n\r\n          // Time is in seconds, convert to minutes and round off.\r\n          const time = Math.round(e.routeSummary[routeIdx].timeWithTraffic / 60);\r\n          distanceData = \"<label style='font-weight:bold; font-size:18px;'>\" + distance + '&nbsp;' + distanceUnits + \", </label>Traffic: \" + time + \" minutes\";\r\n          \r\n          if(fromAddress == undefined){\r\n            that.mapService.getAddressByLatLong(that.currentLatitude, that.currentLongitude)\r\n            .subscribe(\r\n            (data) => {\r\n              var addressDetail = JSON.parse(data['_body']);\r\n              if (addressDetail != null && addressDetail.resourceSets.length > 0 && addressDetail.resourceSets[0].resources.length > 0) {\r\n                $(\"#ticketfromaddress\").text(addressDetail.resourceSets[0].resources[0].name);\r\n              }\r\n            },\r\n            (err) => {\r\n              console.log(err);\r\n            });\r\n          }\r\n          if(toAddress == undefined){\r\n            that.mapService.getAddressByLatLong(endLat, endLong)\r\n            .subscribe(\r\n            (data) => {\r\n              var addressDetail = JSON.parse(data['_body']);\r\n              \r\n              if (addressDetail != null && addressDetail.resourceSets.length > 0 && addressDetail.resourceSets[0].resources.length > 0) {\r\n                $(\"#tickettoaddress\").text(addressDetail.resourceSets[0].resources[0].name);\r\n              }\r\n            },\r\n            (err) => {\r\n              console.log(err);\r\n            });\r\n          }\r\n\r\n          $(\"#ticketdistancedata\").html(distanceData);\r\n          $(\"#ticketfromaddress\").text(fromAddress);\r\n          $(\"#tickettoaddress\").text(toAddress);\r\n\r\n          $(\"#mdticketLoading\").hide();\r\n          $(\"#mdticketErrorMessage\").hide();\r\n          $(\"#mdticketMap\").show();\r\n          $(\"#mdticketDistance\").show();\r\n          $(\"#mdticketFromAddress\").show();\r\n          $(\"#mdticketToAddress\").show();\r\n\r\n          if (that.singleView == 'Yes') {\r\n              map.setView({ center: new Microsoft.Maps.Location(endLat, endLong), zoom: 10 });\r\n              $(\"#startButtonLink\").click(function () {\r\n                //we're on iOS, open in Apple Maps\r\n                if ((navigator.platform.indexOf(\"iPhone\") != -1) ||\r\n                  (navigator.platform.indexOf(\"iPad\") != -1) ||\r\n                  (navigator.platform.indexOf(\"iPod\") != -1)) {\r\n                  window.open(\"maps://maps.google.com/maps/dir/\" + that.currentLatitude +\",\"+ that.currentLongitude + \"/\" + endLat+\",\"+ endLong + \"\");\r\n                }\r\n                else {\r\n                  window.open(\"https://maps.google.com/maps/dir/\" + that.currentLatitude +\",\"+ that.currentLongitude + \"/\" + endLat+\",\"+ endLong + \"\");\r\n                }\r\n              });\r\n          }\r\n        });\r\n        dirManager.calculateDirections();\r\n      });\r\n    }\r\n\r\n    function getTicketInfoBoxHTML(data: any, distancdData: any, fromAddress: any, toAddress: any): String {\r\n      console.log(data);\r\n      var infoboxData = \"<div style='padding-left:5px;'><div style='position: relative;width:100%;'>\"\r\n        + \"<div><a href='javascript:void(0)' style='text-decoration: underline'>\" + data.ticketNumber + \" </a> <i class='fa fa-times' style='cursor: pointer'></i></div>\"\r\n        + \"<div class='row'>\"\r\n        + \"<div class='col-md-4' style='padding-left:15px' ><span>Severity:</span></div><div class='col-md-8' style='color:red;'>\" + data.ticketSeverity + \"</div>\"\r\n        + \"</div>\"\r\n        + \"<div class='row'>\"\r\n        + \"<div class='col-md-4' style='padding-left:15px' ><span>Common ID:</span></div><div class='col-md-8'>\" + data.commonID + \"</div>\"\r\n        + \"</div>\"\r\n        + \"<div class='row'>\"\r\n        + \"<div class='col-md-4' style='padding-left:15px' ><span>Affecting:</span></div><div class='col-md-8'>\" + data.custAffecting + \"</div>\"\r\n        + \"</div>\"\r\n        + \"<div class='row'>\"\r\n        + \"<div class='col-md-4' style='padding-left:15px' ><span>ShortDescript:</span></div><div class='col-md-8'>\" + data.shortDescription + \"</div>\"\r\n        + \"</div>\"\r\n        + \"<div class='row'>\"\r\n        + \"<div class='col-md-12' style='padding-left:15px' ><hr /></div>\"\r\n        + \"</div>\"\r\n        + \"<div class='row'>\"\r\n        + \"<div class='col-md-11' style='padding-left:15px' ><span>\" + distanceData + \"</span></div>\"\r\n        + \"</div>\"\r\n        + \"<div class='row'>\"\r\n        + \"<div class='col-md-11' style='padding-left:15px' ><span>\" + fromAddress + \"</span></div>\"\r\n        + \"</div>\"\r\n        + \"<div class='row'>\"\r\n        + \"<div class='col-md-11' style='padding-left:15px' ><span>\" + toAddress + \"</span></div>\"\r\n        + \"</div>\"\r\n        + \"</div>\"\r\n        + \"</div>\"\r\n      return infoboxData;\r\n    }\r\n  }\r\n\r\n  UpdateTicketJSONDataList() {\r\n    if (this.ticketList.length != 0) {\r\n      this.ticketList.TicketInfoList.TicketInfo.forEach(ticketInfo => {\r\n        var ticket: Ticket = new Ticket();;\r\n        ticketInfo.FieldTupleList.FieldTuple.forEach(element => {\r\n          if (element.Name === \"TicketNumber\") {\r\n            ticket.ticketNumber = element.Value;\r\n          }\r\n          else if (element.Name === \"EntryType\") {\r\n            ticket.entryType = element.Value === undefined ? '' : element.Value;\r\n          }\r\n          else if (element.Name === \"CreateDate\") {\r\n            ticket.createDate = element.Value === undefined ? '' : element.Value;\r\n          } else if (element.Name === \"EquipmentID\") {\r\n            ticket.equipmentID = element.Value === undefined ? '' : element.Value;\r\n          }\r\n          else if (element.Name === \"CommonID\") {\r\n            ticket.commonID = element.Value === undefined ? '' : element.Value;\r\n          } else if (element.Name === \"ParentID\") {\r\n            ticket.parentID = element.Value === undefined ? '' : element.Value;\r\n          } else if (element.Name === \"CustAffecting\") {\r\n            ticket.custAffecting = element.Value === undefined ? '' : element.Value;\r\n          } else if (element.Name === \"TicketSeverity\") {\r\n            ticket.ticketSeverity = element.Value === undefined ? '' : element.Value;\r\n          } else if (element.Name === \"AssignedTo\") {\r\n            ticket.assignedTo = element.Value === undefined ? '' : element.Value;\r\n          } else if (element.Name === \"SubmittedBy\") {\r\n            ticket.submittedBy = element.Value === undefined ? '' : element.Value;\r\n          } else if (element.Name === \"ProblemSubcategory\") {\r\n            ticket.problemSubcategory = element.Value === undefined ? '' : element.Value;\r\n          } else if (element.Name === \"ProblemDetail\") {\r\n            ticket.problemDetail = element.Value === undefined ? '' : element.Value;\r\n          } else if (element.Name === \"ProblemCategory\") {\r\n            ticket.problemCategory = element.Value === undefined ? '' : element.Value;\r\n          } else if (element.Name === \"Latitude\") {\r\n            ticket.latitude = (element.Value === undefined || element.Value === '') ? '' : element.Value;\r\n          } else if (element.Name === \"Longitude\") {\r\n            ticket.longitude = (element.Value === undefined || element.Value === '') ? '' : element.Value;\r\n          } else if (element.Name === \"PlannedRestoralTime\") {\r\n            ticket.plannedRestoralTime = element.Value === undefined ? '' : element.Value;\r\n          } else if (element.Name === \"AlternateSiteID\") {\r\n            ticket.alternateSiteID = element.Value === undefined ? '' : element.Value;\r\n          } else if (element.Name === \"LocationRanking\") {\r\n            ticket.locationRanking = element.Value === undefined ? '' : element.Value;\r\n          } else if (element.Name === \"AssignedDepartment\") {\r\n            ticket.assignedDepartment = element.Value === undefined ? '' : element.Value;\r\n          } else if (element.Name === \"Region\") {\r\n            ticket.region = element.Value === undefined ? '' : element.Value;\r\n          } else if (element.Name === \"Market\") {\r\n            ticket.market = element.Value === undefined ? '' : element.Value;\r\n          } else if (element.Name === \"WorkRequestId\") {\r\n            ticket.workRequestId = element.Value === undefined ? '' : element.Value;\r\n          } else if (element.Name === \"ShiftLog\") {\r\n            ticket.shiftLog = element.Value === undefined ? '' : element.Value;\r\n          } else if (element.Name === \"Action\") {\r\n            ticket.action = element.Value === undefined ? '' : element.Value;\r\n          } else if (element.Name === \"EquipmentName\") {\r\n            ticket.equipmentName = element.Value === undefined ? '' : element.Value;\r\n          } else if (element.Name === \"ShortDescription\") {\r\n            ticket.shortDescription = element.Value === undefined ? '' : element.Value;\r\n          } else if (element.Name === \"ParentName\") {\r\n            ticket.parentName = element.Value === undefined ? '' : element.Value;\r\n          } else if (element.Name === \"TicketStatus\") {\r\n            ticket.ticketStatus = element.Value === undefined ? '' : element.Value;\r\n          } else if (element.Name === \"LocationID\") {\r\n            ticket.locationID = element.Value === undefined ? '' : element.Value;\r\n          } else if (element.Name === \"OpsDistrict\") {\r\n            ticket.opsDistrict = element.Value === undefined ? '' : element.Value;\r\n          } else if (element.Name === \"OpsZone\") {\r\n            ticket.opsZone = element.Value === undefined ? '' : element.Value;\r\n          }\r\n        });\r\n        this.ticketData.push(ticket);\r\n      });\r\n    }\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    if (this.connection !== undefined) {\r\n      this.connection.unsubscribe();\r\n    }\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { RttamaplibComponent } from './rttamaplib.component';\r\nimport { RttamaplibService } from \"./rttamaplib.service\"\r\n\r\n@NgModule({\r\n  imports: [\r\n  ],\r\n  declarations: [RttamaplibComponent],\r\n  exports: [RttamaplibComponent],\r\n  providers: [RttamaplibService]\r\n})\r\nexport class RttamaplibModule { }\r\n"],"names":["Headers","RequestOptions","Observable","io.connect","Injectable","Http","EventEmitter","setTimeout","forkJoin","momenttimezone.utc","map","Component","ViewContainerRef","ViewChild","Input","Output","NgModule"],"mappings":"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"}
